"use strict";(self.webpackChunkClientPortal=self.webpackChunkClientPortal||[]).push([[33],{2135:(U,T,c)=>{c.d(T,{u:()=>y});var i=c(5879);let y=(()=>{class _{transform(o,f){return o?f?(f=f.toLowerCase(),o.filter(m=>{const x=m.full_name?m.full_name.toLowerCase():"",t=m.first_name?m.first_name.toLowerCase():"",b=m.employee&&m.employee.first_name?m.employee.first_name.toLowerCase():"",u=m.employee&&m.employee.last_name?m.employee.last_name.toLowerCase():"",C=m.last_name?m.last_name.toLowerCase():"",d=m.title?m.title.toLowerCase():"",g=m.name?m.name.toLowerCase():"",s=m.user&&m.user.name?m.user.name.toLowerCase():"",A=m.head?m.head.toLowerCase():"",Z=m.description?m.description.toLowerCase():"";return x.includes(f)||C.includes(f)||g.includes(f)||s.includes(f)||A.includes(f)||Z.includes(f)||t.includes(f)||b.includes(f)||u.includes(f)||d.includes(f)})):o:[]}static#t=this.\u0275fac=function(f){return new(f||_)};static#e=this.\u0275pipe=i.Yjl({name:"filter",type:_,pure:!0,standalone:!0})}return _})()},8033:(U,T,c)=>{c.r(T),c.d(T,{default:()=>V});var i=c(6814),y=c(4414),_=c(846),l=c(8733),o=c(6223),f=c(2135),m=c(1818),x=c(8034),t=c(5879),b=c(553),u=c(9862);let C=(()=>{class n{constructor(e){this.http=e,this.citiesListUrl=`${b.N.url}cities-paginated`,this.addCityUrl=`${b.N.url}city/create`,this.updateCityUrl=`${b.N.url}city/update`,this.deleteCityUrl=`${b.N.url}city/delete`,this.listCityIdUrl=`${b.N.url}city/show`}getCitiesList(e){let r=new u.LE;return e&&Object.keys(e).forEach(a=>{r=r.append(a,e[a])}),this.http.get(this.citiesListUrl,{params:r})}addCity(e,r){let a=new u.LE;r&&Object.keys(r).forEach(p=>{a=a.append(p,r[p])});const v=new FormData;return Object.keys(e).forEach(p=>{v.append(p,e[p])}),this.http.post(this.addCityUrl,v,{params:a})}getCityById(e){return this.http.get(`${this.listCityIdUrl}?city_id=${e}`)}updateCity(e,r){let a=new u.LE;r&&Object.keys(r).forEach(p=>{a=a.append(p,r[p])});const v=new FormData;return Object.keys(e).forEach(p=>{v.append(p,e[p])}),this.http.post(`${this.updateCityUrl}`,v,{params:a})}deleteCurrency(e,r){let a=new u.LE;r&&Object.keys(r).forEach(p=>{a=a.append(p,r[p])});const v=new FormData;return Object.keys(e).forEach(p=>{v.append(p,e[p])}),this.http.post(`${this.deleteCityUrl}`,v,{params:a})}static#t=this.\u0275fac=function(r){return new(r||n)(t.LFG(u.eN))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var d=c(7700);const g=function(n,h){return[n,h]};function s(n,h){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",27)(8,"a",28),t.ALo(9,"localize"),t._UZ(10,"i",29),t._uU(11," \u0639\u0631\u0636"),t.qZA(),t.TgZ(12,"a",30),t.ALo(13,"localize"),t._UZ(14,"i",31),t._uU(15," \u062a\u0639\u062f\u064a\u0644 "),t.qZA(),t.TgZ(16,"button",32),t.NdJ("click",function(){const v=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.deleteCity(v.id,v.name))}),t._UZ(17,"i",33),t._uU(18," \u062d\u0630\u0641 "),t.qZA()()()}if(2&n){const e=h.$implicit,r=h.index;t.xp6(2),t.Oqu(r+1),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.iso2),t.xp6(2),t.Q6J("routerLink",t.WLB(9,g,t.lcZ(9,5,"/dashboard/cities/view-city"),e.id)),t.xp6(4),t.Q6J("routerLink",t.WLB(12,g,t.lcZ(13,7,"/dashboard/cities/add-city"),e.id))}}function A(n,h){1&n&&(t.TgZ(0,"tr")(1,"td",34),t._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),t.qZA()())}let Z=(()=>{class n{constructor(e,r,a,v){this.citiesService=e,this.localize=r,this.router=a,this.dialog=v,this.cities=[],this.searchQuery="",this.loading=!0}ngOnInit(){this.getListCities()}onPageChange(e){this.getListCities(e)}getListCities(e=1){this.loading=!0,this.citiesService.getCitiesList({page:e}).subscribe({next:r=>{this.cities=r.data,this.currentPage=r.pagination.current_page,this.totalPages=r.pagination.last_page,this.loading=!1},error:r=>{this.loading=!1,console.log(r)}})}viewCity(e){if(e){const r=this.localize.translateRoute("/dashboard/cities/view-city");this.router.navigate([r,e.id])}else console.error("No city to view")}deleteCity(e,r){const a={city_id:e};this.dialog.open(x.$,{width:"500px",data:{title:"\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 ${r}\u061f`}}).afterClosed().subscribe(p=>{p&&this.citiesService.deleteCurrency(a).subscribe({next:L=>{this.getListCities()},error:L=>{console.log("there was an error deleting currency:",L)}})})}static#t=this.\u0275fac=function(r){return new(r||n)(t.Y36(C),t.Y36(l.An),t.Y36(_.F0),t.Y36(d.uw))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-cities-list"]],standalone:!0,features:[t.jDz],decls:50,vars:16,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-12"],[1,"row","list-row"],[1,"card","rounded-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-xl-3","col-lg-3","addNew","mb-2"],[1,"btn","w-100","py-3","rounded-4",3,"routerLink"],[1,"fa-solid","fa-circle-plus","me-2"],[1,"col-xl-7","col-lg-6","col-sm-8","searchINP","mb-2"],["type","search","placeholder","\u0627\u0644\u0628\u062d\u062b",1,"form-control","form-control-lg","rounded-3",3,"ngModel","ngModelChange"],[1,"col-xl-2","col-lg-3","col-sm-4","text-center","filterBTN","mb-2"],[1,"btn","px-sm-4","px-5"],[1,"fa-solid","fa-sliders"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[1,"col-md-8"],[3,"currentPage","totalPages","pageChange"],[1,"col-md-4","text-center"],[1,"text-center","mb-0"],[1,"action"],[1,"btn","get",3,"routerLink"],[1,"fa-solid","fa-eye"],[1,"btn","edit",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete",3,"click"],[1,"fa-regular","fa-trash-can"],["colspan","6",1,"text-center"]],template:function(r,a){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),t._uU(4,"\u0627\u0644\u0645\u062f\u0646"),t.qZA(),t.TgZ(5,"p"),t._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u062f\u0646"),t.qZA()(),t.TgZ(7,"div",4),t._UZ(8,"app-breadcrumb"),t.qZA()(),t.TgZ(9,"div",5)(10,"div",4)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"a",10),t.ALo(16,"localize"),t._UZ(17,"i",11),t._uU(18," \u0625\u0636\u0627\u0641\u0629 \u0645\u062f\u064a\u0646\u0629 \u062c\u062f\u064a\u062f "),t.qZA()(),t.TgZ(19,"div",12)(20,"input",13),t.NdJ("ngModelChange",function(p){return a.searchQuery=p}),t.qZA()(),t.TgZ(21,"div",14)(22,"button",15),t._UZ(23,"i",16),t._uU(24," \u062a\u0635\u0646\u064a\u0641 "),t.qZA()()()(),t.TgZ(25,"div",17)(26,"div",18)(27,"table",19)(28,"thead")(29,"tr")(30,"th"),t._uU(31,"\u062a\u0631\u0642\u064a\u0645"),t.qZA(),t.TgZ(32,"th"),t._uU(33,"\u0627\u0633\u0645 \u0627\u0644\u0645\u062f\u064a\u0646\u0629"),t.qZA(),t.TgZ(34,"th"),t._uU(35,"\u0631\u0645\u0632 \u0627\u0644\u0645\u062f\u064a\u0646\u0629"),t.qZA(),t.TgZ(36,"th"),t._uU(37,"\u0627\u062c\u0631\u0627\u0621\u0627\u062a"),t.qZA()()(),t.TgZ(38,"tbody"),t.YNc(39,s,19,15,"tr",20),t.ALo(40,"filter"),t.YNc(41,A,3,0,"tr",21),t.ALo(42,"filter"),t.qZA()()()(),t.TgZ(43,"div",7)(44,"div",22)(45,"div",23)(46,"pagination",24),t.NdJ("pageChange",function(p){return a.onPageChange(p)}),t.qZA()(),t.TgZ(47,"div",25)(48,"p",26),t._uU(49),t.qZA()()()()()()()()),2&r&&(t.xp6(15),t.Q6J("routerLink",t.lcZ(16,8,"/dashboard/cities/add-city")),t.xp6(5),t.Q6J("ngModel",a.searchQuery),t.xp6(19),t.Q6J("ngForOf",t.xi3(40,10,a.cities,a.searchQuery)),t.xp6(2),t.Q6J("ngIf",0===t.xi3(42,13,a.cities,a.searchQuery).length&&!a.loading),t.xp6(5),t.Q6J("currentPage",a.currentPage)("totalPages",a.totalPages),t.xp6(3),t.AsE(" \u0635\u0641\u062d\u0629 \u0631\u0642\u0645 ",a.currentPage," \u0645\u0646 \u0623\u0635\u0644 ",a.totalPages," \u0635\u0641\u062d\u0629 "))},dependencies:[i.ez,i.sg,i.O5,y.L,_.Bz,_.rH,f.u,l.fQ,l.lO,o.u5,o.Fj,o.JJ,o.On,m.Q]})}return n})(),F=(()=>{class n{static#t=this.\u0275fac=function(r){return new(r||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-main-city"]],standalone:!0,features:[t.jDz],decls:1,vars:0,template:function(r,a){1&r&&t._UZ(0,"router-outlet")},dependencies:[i.ez,_.lC]})}return n})();var P=c(4286),O=c(9172);function M(n,h){1&n&&(t.TgZ(0,"h5"),t._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0645\u062f\u064a\u0646\u0629"),t.qZA())}function E(n,h){1&n&&(t.TgZ(0,"h5"),t._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0645\u062f\u064a\u0646\u0629"),t.qZA())}function I(n,h){1&n&&(t.TgZ(0,"div",26),t._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),t.qZA())}function N(n,h){if(1&n&&(t.TgZ(0,"div",26),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",null==e.cityForm.controls.name.errors?null:e.cityForm.controls.name.errors.serverError[0]," ")}}function D(n,h){if(1&n&&(t.TgZ(0,"div",26),t.YNc(1,I,2,0,"div",18),t.YNc(2,N,2,1,"div",18),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.cityForm.controls.name.errors?null:e.cityForm.controls.name.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.cityForm.controls.name.errors?null:e.cityForm.controls.name.errors.serverError)}}function J(n,h){1&n&&(t.TgZ(0,"div",26),t._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),t.qZA())}function q(n,h){if(1&n&&(t.TgZ(0,"div",26),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",null==e.cityForm.controls.iso2.errors?null:e.cityForm.controls.iso2.errors.serverError[0]," ")}}function Q(n,h){if(1&n&&(t.TgZ(0,"div",26),t.YNc(1,J,2,0,"div",18),t.YNc(2,q,2,1,"div",18),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.cityForm.controls.iso2.errors?null:e.cityForm.controls.iso2.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.cityForm.controls.iso2.errors?null:e.cityForm.controls.iso2.errors.serverError)}}function Y(n,h){if(1&n&&(t.TgZ(0,"option",27),t._uU(1),t.qZA()),2&n){const e=h.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function B(n,h){1&n&&(t.TgZ(0,"div",26),t._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),t.qZA())}function k(n,h){if(1&n&&(t.TgZ(0,"div",26),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",null==e.cityForm.controls.country_id.errors?null:e.cityForm.controls.country_id.errors.serverError[0]," ")}}function z(n,h){if(1&n&&(t.TgZ(0,"div",26),t.YNc(1,B,2,0,"div",18),t.YNc(2,k,2,1,"div",18),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.cityForm.controls.country_id.errors?null:e.cityForm.controls.country_id.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.cityForm.controls.country_id.errors?null:e.cityForm.controls.country_id.errors.serverError)}}function S(n,h){if(1&n&&(t.ynx(0),t.TgZ(1,"div",28)(2,"button",29),t._UZ(3,"i",30),t._uU(4," \u0625\u0636\u0627\u0641\u0629 \u0645\u062f\u064a\u0646\u0629 "),t.qZA()(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("disabled",!e.cityForm.valid)}}function R(n,h){if(1&n){const e=t.EpF();t.TgZ(0,"div",28)(1,"button",31),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.updateClient())}),t._uU(2," \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u062f\u064a\u0646\u0629 "),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("disabled",!e.cityForm.valid)}}const j=function(n){return[n]};let w=(()=>{class n{constructor(e,r,a,v,p,L){this.activatedRoute=e,this.citiesService=r,this.router=a,this.localize=v,this._MessagesService=p,this.allCountriesService=L,this.isEditMode=!1,this.cityId="",this.countries=[],this.cityForm=new o.cw({name:new o.NI("",o.kI.required),iso2:new o.NI("",o.kI.required),country_id:new o.NI("",o.kI.required)})}ngOnInit(){this.activatedRoute.paramMap.subscribe(e=>{const r=e.get("id");r&&(this.isEditMode=!0,this.cityId=r,this.citiesService.getCityById(r).subscribe(a=>{a&&a.data&&this.setFormValues(a.data)}))}),this.getListCountries()}getListCountries(){this.allCountriesService.GetCountriesList().subscribe({next:e=>{this.countries=e.data},error:e=>{console.log(e)}})}navigateToCitiesList(){const e=this.localize.translateRoute("/dashboard/cities");this.router.navigate([e])}setFormValues(e){this.cityForm.controls.name.setValue(e.name),this.cityForm.controls.iso2.setValue(e.iso2),this.cityForm.controls.country_id.setValue(e.country.id)}updateClient(){this.cityForm.valid&&this.citiesService.updateCity({name:this.cityForm.controls.name.value||"",iso2:this.cityForm.controls.iso2.value||"",country_id:this.cityForm.controls.iso2.value||""}).subscribe({next:r=>{this.navigateToCitiesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",3e3)},error:r=>{console.log("Failed to update city:",r)}})}onSubmit(){this.cityForm.valid&&this.citiesService.addCity({name:this.cityForm.controls.name.value||"",iso2:this.cityForm.controls.iso2.value||"",country_id:this.cityForm.controls.iso2.value||""}).subscribe({next:r=>{this.navigateToCitiesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:r=>{console.log("Failed to add city:",r)}})}static#t=this.\u0275fac=function(r){return new(r||n)(t.Y36(_.gz),t.Y36(C),t.Y36(_.F0),t.Y36(l.An),t.Y36(P.K),t.Y36(O.K))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-city"]],standalone:!0,features:[t.jDz],decls:41,vars:14,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","name",1,"form-label"],["type","text","formControlName","name","name","name","id","name",1,"form-control","form-control-lg"],["class","ms-error",4,"ngIf"],["for","iso2",1,"form-label"],["type","text","formControlName","iso2","name","iso2","id","iso2",1,"form-control","form-control-lg"],["for","country_id",1,"form-label"],["name","country_id","id","country_id","formControlName","country_id",1,"form-select","form-select-lg"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["editButton",""],[1,"ms-error"],[3,"value"],[1,"form-group","col-12","my-3"],[1,"btn","px-5","py-3",3,"disabled"],[1,"fa-solid","fa-circle-plus","me-2"],["type","button",1,"btn","px-5","py-3",3,"disabled","click"]],template:function(r,a){if(1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),t._uU(4,"\u0627\u0644\u0645\u062f\u0646"),t.qZA(),t.TgZ(5,"p"),t._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u062f\u0646"),t.qZA()(),t.TgZ(7,"div",4),t._UZ(8,"app-breadcrumb"),t.qZA(),t.TgZ(9,"div",5)(10,"a",6),t.ALo(11,"localize"),t._uU(12,"\u0631\u062c\u0648\u0639 "),t._UZ(13,"i",7),t.qZA()()(),t.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),t.YNc(18,M,2,0,"h5",12),t.YNc(19,E,2,0,"h5",12),t.TgZ(20,"form",13),t.NdJ("ngSubmit",function(){return a.onSubmit()}),t.TgZ(21,"div",14)(22,"div",15)(23,"label",16),t._uU(24,"\u0627\u0633\u0645 \u0627\u0644\u0645\u062f\u064a\u0646\u0629"),t.qZA(),t._UZ(25,"input",17),t.YNc(26,D,3,2,"div",18),t.qZA(),t.TgZ(27,"div",15)(28,"label",19),t._uU(29,"\u0631\u0645\u0632 \u0627\u0644\u0645\u062f\u064a\u0646\u0629"),t.qZA(),t._UZ(30,"input",20),t.YNc(31,Q,3,2,"div",18),t.qZA(),t.TgZ(32,"div",15)(33,"label",21),t._uU(34,"\u0627\u0644\u062f\u0648\u0644\u0629 \u0627\u0644\u062a\u0627\u0628\u0639\u0629 \u0644\u0647\u0627"),t.qZA(),t.TgZ(35,"select",22),t.YNc(36,Y,2,2,"option",23),t.qZA(),t.YNc(37,z,3,2,"div",18),t.qZA(),t.YNc(38,S,5,1,"ng-container",24),t.YNc(39,R,3,1,"ng-template",null,25,t.W1O),t.qZA()()()()()()()),2&r){const v=t.MAs(40);t.xp6(10),t.Q6J("routerLink",t.VKq(12,j,t.lcZ(11,10,"/dashboard/cities"))),t.xp6(8),t.Q6J("ngIf",!a.isEditMode),t.xp6(1),t.Q6J("ngIf",a.isEditMode),t.xp6(1),t.Q6J("formGroup",a.cityForm),t.xp6(6),t.Q6J("ngIf",a.cityForm.controls.name.invalid&&(a.cityForm.controls.name.dirty||a.cityForm.controls.name.touched)),t.xp6(5),t.Q6J("ngIf",a.cityForm.controls.iso2.invalid&&(a.cityForm.controls.iso2.dirty||a.cityForm.controls.iso2.touched)),t.xp6(5),t.Q6J("ngForOf",a.countries),t.xp6(1),t.Q6J("ngIf",a.cityForm.controls.country_id.invalid&&(a.cityForm.controls.country_id.dirty||a.cityForm.controls.country_id.touched)),t.xp6(1),t.Q6J("ngIf",!a.isEditMode)("ngIfElse",v)}},dependencies:[i.ez,i.sg,i.O5,o.u5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,y.L,l.fQ,l.lO,o.UX,o.sg,o.u,_.Bz,_.rH],styles:[".ms-error[_ngcontent-%COMP%]{color:red;margin-top:5px}"]})}return n})();function K(n,h){if(1&n&&(t.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"label",15),t._uU(4,"\u0627\u0633\u0645 \u0627\u0644\u0645\u062f\u064a\u0646\u0629"),t.qZA(),t._UZ(5,"input",16),t.qZA(),t.TgZ(6,"div",14)(7,"label",17),t._uU(8,"\u0631\u0645\u0632 \u0627\u0644\u0645\u062f\u064a\u0646\u0629"),t.qZA(),t._UZ(9,"input",16),t.qZA(),t.TgZ(10,"div",14)(11,"label",17),t._uU(12,"\u0627\u0644\u062f\u0648\u0644\u0629 \u0627\u0644\u062a\u0627\u0628\u0639\u0629 \u0644\u0647\u0627"),t.qZA(),t._UZ(13,"input",16),t.qZA()()()),2&n){const e=t.oxw();t.xp6(5),t.s9C("value",e.city.name),t.xp6(4),t.s9C("value",e.city.iso2),t.xp6(4),t.s9C("value",e.city.country.name)}}function $(n,h){1&n&&(t.TgZ(0,"div",12)(1,"h4",18),t._uU(2,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),t.qZA()())}const W=function(n){return[n]},V=[{path:"",component:F,children:[{path:"",component:Z,data:{breadcrumbs:[{label:"\u0627\u0644\u0645\u062f\u0646",url:"/dashboard/cities"}]}},{path:":slug",component:w,data:{breadcrumbs:[{label:"\u0625\u0636\u0627\u0641\u0629 \u0645\u062f\u064a\u0646\u0629",url:"/dashboard/cities/add-city"}]}},{path:"add-city/:id",component:w,data:{breadcrumbs:[{label:"\u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u062f\u064a\u0646\u0629",url:"/dashboard/cities/add-city"}]}},{path:"view-city/:id",component:(()=>{class n{constructor(e,r){this.activatedRoute=e,this.citiesService=r,this.cityId=""}ngOnInit(){this.activatedRoute.paramMap.subscribe(e=>{const r=e.get("id");r&&(this.cityId=r,this.citiesService.getCityById(r).subscribe(a=>{a&&a.data&&(this.city=a.data)}))})}static#t=this.\u0275fac=function(r){return new(r||n)(t.Y36(_.gz),t.Y36(C))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-view-city"]],standalone:!0,features:[t.jDz],decls:19,vars:7,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","name",1,"form-label"],["type","text","readonly","",1,"form-control","form-control-lg",3,"value"],["for","iso2",1,"form-label"],[1,"text-center"]],template:function(r,a){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),t._uU(4,"\u0627\u0644\u062f\u0648\u0644"),t.qZA(),t.TgZ(5,"p"),t._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062f\u0648\u0644"),t.qZA()(),t.TgZ(7,"div",4),t._UZ(8,"app-breadcrumb"),t.qZA(),t.TgZ(9,"div",5)(10,"a",6),t.ALo(11,"localize"),t._uU(12,"\u0631\u062c\u0648\u0639 "),t._UZ(13,"i",7),t.qZA()()(),t.TgZ(14,"div",8)(15,"div",9)(16,"div",10),t.YNc(17,K,14,3,"div",11),t.YNc(18,$,3,0,"div",11),t.qZA()()()()),2&r&&(t.xp6(10),t.Q6J("routerLink",t.VKq(5,W,t.lcZ(11,3,"/dashboard/cities"))),t.xp6(7),t.Q6J("ngIf",a.city),t.xp6(1),t.Q6J("ngIf",!a.city))},dependencies:[i.ez,i.O5,y.L,_.Bz,_.rH,l.fQ,l.lO]})}return n})(),data:{breadcrumbs:[{label:"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u062f\u064a\u0646\u0629",url:"/dashboard/cities/view-city"}]}}]}]},8034:(U,T,c)=>{c.d(T,{$:()=>f});var i=c(6814),y=c(7700),_=c(2296),l=c(5879),o=c(4286);let f=(()=>{class m{constructor(t,b,u){this.dialogRef=t,this.data=b,this._MessagesService=u}onConfirmClick(){this.dialogRef.close(!0)}onCancelClick(){this.dialogRef.close(!1)}static#t=this.\u0275fac=function(b){return new(b||m)(l.Y36(y.so),l.Y36(y.WI),l.Y36(o.K))};static#e=this.\u0275cmp=l.Xpm({type:m,selectors:[["app-confirm-dialog"]],standalone:!0,features:[l.jDz],decls:10,vars:2,consts:[[1,"text-center"],["mat-dialog-title","",1,"text-center"],[1,"m-auto"],["mat-button","",3,"click"],["mat-button","","olor","primary",2,"color","red",3,"click"]],template:function(b,u){1&b&&(l.TgZ(0,"div",0)(1,"h2",1),l._uU(2),l.qZA(),l.TgZ(3,"mat-dialog-content"),l._uU(4),l.qZA(),l.TgZ(5,"mat-dialog-actions",2)(6,"button",3),l.NdJ("click",function(){return u.onCancelClick()}),l._uU(7,"\u0627\u0644\u063a\u0627\u0621"),l.qZA(),l.TgZ(8,"button",4),l.NdJ("click",function(){return u.onConfirmClick()}),l._uU(9," \u062a\u0627\u0643\u064a\u062f "),l.qZA()()()),2&b&&(l.xp6(2),l.Oqu(u.data.title),l.xp6(2),l.Oqu(u.data.message))},dependencies:[i.ez,y.Is,y.uh,y.xY,y.H8,_.ot,_.lW],styles:["mat-dialog-content[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}"]})}return m})()},4414:(U,T,c)=>{c.d(T,{L:()=>b});var i=c(6814),y=c(846),_=c(8733),l=c(2181),o=c(5879);function f(u,C){1&u&&(o.TgZ(0,"li",6),o._uU(1,"/"),o.qZA())}function m(u,C){if(1&u&&(o.ynx(0),o.TgZ(1,"li",4)(2,"a",5),o.ALo(3,"localize"),o._uU(4),o.qZA()(),o.YNc(5,f,2,0,"li",3),o.BQk()),2&u){const d=C.$implicit,g=C.index,s=o.oxw().$implicit;o.xp6(2),o.Q6J("routerLink",o.lcZ(3,3,d.url)),o.xp6(2),o.Oqu(d.label),o.xp6(1),o.Q6J("ngIf",g<s.segments.length-1)}}function x(u,C){1&u&&(o.TgZ(0,"li",6),o._uU(1,"/"),o.qZA())}function t(u,C){if(1&u&&(o.ynx(0),o.YNc(1,m,6,5,"ng-container",2),o.YNc(2,x,2,0,"li",3),o.BQk()),2&u){const d=C.$implicit,g=C.index,s=o.oxw();o.xp6(1),o.Q6J("ngForOf",d.segments),o.xp6(1),o.Q6J("ngIf",g<s.breadcrumbs.length-1)}}let b=(()=>{class u{constructor(d,g){this.router=d,this.activatedRoute=g,this.breadcrumbs=[]}ngOnInit(){this.routerSubscription=this.router.events.pipe((0,l.h)(d=>d instanceof y.m2)).subscribe(()=>{this.breadcrumbs=this.createBreadcrumbs(this.activatedRoute.root)}),this.breadcrumbs=this.createBreadcrumbs(this.activatedRoute.root)}createBreadcrumbs(d,g="",s=[]){let A=[],Z=d;for(;Z.firstChild;){Z=Z.firstChild;const F=Z.snapshot.url.map(O=>O.path).join("/");""!==F&&(g+=`/${F}`);const P=Z.snapshot.data.breadcrumbs;if(P&&P!=A&&Array.isArray(P)&&""!==F){A=P;const O=P.map(M=>({label:M.label,url:M.url||g}));s.push({segments:O})}}return s}ngOnDestroy(){}static#t=this.\u0275fac=function(g){return new(g||u)(o.Y36(y.F0),o.Y36(y.gz))};static#e=this.\u0275cmp=o.Xpm({type:u,selectors:[["app-breadcrumb"]],standalone:!0,features:[o.jDz],decls:3,vars:1,consts:[["aria-label","breadcrumb"],[1,"breadcrumb","mb-0"],[4,"ngFor","ngForOf"],["class","separator",4,"ngIf"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"separator"]],template:function(g,s){1&g&&(o.TgZ(0,"nav",0)(1,"ol",1),o.YNc(2,t,3,2,"ng-container",2),o.qZA()()),2&g&&(o.xp6(2),o.Q6J("ngForOf",s.breadcrumbs))},dependencies:[i.ez,i.sg,i.O5,y.Bz,y.rH,_.fQ,_.lO],styles:['.ec-breadcrumb[_ngcontent-%COMP%]{padding:15px 0;margin-bottom:50px;background-color:#f7f7f7;border-top:1px solid #eeeeee;border-bottom:1px solid #eeeeee}.ec-breadcrumb[_ngcontent-%COMP%]   .ec-breadcrumb-title[_ngcontent-%COMP%]{text-decoration:none;color:#444;display:block;font-size:15px;font-family:Montserrat;line-height:22px;font-weight:700;margin:0 auto;text-transform:capitalize}.ec-breadcrumb-list[_ngcontent-%COMP%]{text-align:right}.ec-breadcrumb-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:300;letter-spacing:.02rem;line-height:1.2;text-transform:capitalize}.ec-breadcrumb-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;color:#444}.ec-breadcrumb-list[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:#3474d4}.ec-breadcrumb-list[_ngcontent-%COMP%]   .ec-breadcrumb-item.active[_ngcontent-%COMP%]:before{color:#3474d4}.ec-breadcrumb-item[_ngcontent-%COMP%]{display:flex}.ec-breadcrumb-item[_ngcontent-%COMP%] + .ec-breadcrumb-item[_ngcontent-%COMP%]{padding-left:7px}.ec-breadcrumb-item[_ngcontent-%COMP%] + .ec-breadcrumb-item[_ngcontent-%COMP%]:before{display:inline-block;padding-right:7px;color:#444;content:"\\f101";font-family:EcIcons;font-size:15px}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.separator[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-one)}']})}return u})()},1818:(U,T,c)=>{c.d(T,{Q:()=>b});var i=c(5879),y=c(6223),_=c(6814);function l(u,C){if(1&u){const d=i.EpF();i.TgZ(0,"li",2)(1,"a",8),i.NdJ("click",function(){i.CHM(d);const s=i.oxw();return i.KtG(s.navigateTo(1))}),i._uU(2,"1"),i.qZA()()}}function o(u,C){1&u&&(i.TgZ(0,"li",2)(1,"a",9),i._uU(2,"..."),i.qZA()())}function f(u,C){if(1&u){const d=i.EpF();i.TgZ(0,"li",2)(1,"a",8),i.NdJ("click",function(){const A=i.CHM(d).$implicit,Z=i.oxw();return i.KtG(Z.navigateTo(A))}),i._uU(2),i.qZA()()}if(2&u){const d=C.$implicit,g=i.oxw();i.ekj("active",g.currentPage===d),i.xp6(2),i.Oqu(d)}}function m(u,C){1&u&&(i.TgZ(0,"li",2)(1,"a",9),i._uU(2,"..."),i.qZA()())}function x(u,C){if(1&u){const d=i.EpF();i.TgZ(0,"li",2)(1,"a",8),i.NdJ("click",function(){i.CHM(d);const s=i.oxw();return i.KtG(s.navigateTo(s.totalPages))}),i._uU(2),i.qZA()()}if(2&u){const d=i.oxw();i.xp6(2),i.Oqu(d.totalPages)}}const t={provide:y.JU,useExisting:(0,i.Gpc)(()=>b),multi:!0};let b=(()=>{class u{constructor(){this.pageChange=new i.vpe}navigateTo(d){this.pageChange.emit(d),this.scrollToTop()}ngOnInit(){}scrollToTop(){window.scroll({top:0,left:0,behavior:"smooth"})}calculatePages(){const d=[];if(this.totalPages<=5)for(let s=1;s<=this.totalPages;s++)d.push(s);else{let s,A;this.currentPage<=Math.floor(2.5)?(s=1,A=5):this.currentPage+Math.floor(2.5)>=this.totalPages?(s=this.totalPages-5+1,A=this.totalPages):(s=this.currentPage-Math.floor(2.5),A=this.currentPage+Math.floor(2.5));for(let Z=s;Z<=A;Z++)d.push(Z)}return d}static#t=this.\u0275fac=function(g){return new(g||u)};static#e=this.\u0275cmp=i.Xpm({type:u,selectors:[["pagination"]],inputs:{currentPage:"currentPage",totalPages:"totalPages"},outputs:{pageChange:"pageChange"},standalone:!0,features:[i._Bn([t]),i.jDz],decls:15,vars:9,consts:[["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item","mx-2"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item mx-2",4,"ngIf"],["class","page-item mx-2",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],[1,"page-link",3,"click"],[1,"page-link"]],template:function(g,s){1&g&&(i.TgZ(0,"nav",0)(1,"ul",1)(2,"li",2)(3,"a",3),i.NdJ("click",function(){return s.navigateTo(s.currentPage-1)}),i.TgZ(4,"span",4),i._uU(5,"\xab"),i.qZA()()(),i.YNc(6,l,3,0,"li",5),i.YNc(7,o,3,0,"li",5),i.YNc(8,f,3,3,"li",6),i.YNc(9,m,3,0,"li",5),i.YNc(10,x,3,1,"li",5),i.TgZ(11,"li",2)(12,"a",7),i.NdJ("click",function(){return s.navigateTo(s.currentPage+1)}),i.TgZ(13,"span",4),i._uU(14,"\xbb"),i.qZA()()()()()),2&g&&(i.xp6(2),i.ekj("disabled",1===s.currentPage),i.xp6(4),i.Q6J("ngIf",s.currentPage>3),i.xp6(1),i.Q6J("ngIf",s.currentPage>4),i.xp6(1),i.Q6J("ngForOf",s.calculatePages()),i.xp6(1),i.Q6J("ngIf",s.currentPage<s.totalPages-3),i.xp6(1),i.Q6J("ngIf",s.currentPage<s.totalPages-2),i.xp6(1),i.ekj("disabled",s.currentPage===s.totalPages))},dependencies:[_.ez,_.sg,_.O5],styles:[".pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{cursor:pointer}"]})}return u})()}}]);