"use strict";(self.webpackChunkClientPortal=self.webpackChunkClientPortal||[]).push([[577],{7577:(re,S,p)=>{p.r(S),p.d(S,{default:()=>no});var d=p(6814),u=p(846),_=p(8733),x=p(1818),l=p(6223),E=p(8034),I=p(4414),e=p(5879),C=p(5123),F=p(7700);const v=function(i,o){return[i,o]};function T(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td",25)(14,"a",26),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.viewEmployee(r))}),e._UZ(15,"i",27),e._uU(16," \u0639\u0631\u0636"),e.qZA(),e.TgZ(17,"a",28),e.ALo(18,"localize"),e._UZ(19,"i",29),e._uU(20," \u062a\u0639\u062f\u064a\u0644 "),e.qZA(),e.TgZ(21,"button",30),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteEmployee(r.id,r.user.name))}),e._UZ(22,"i",31),e._uU(23," \u062d\u0630\u0641 "),e.qZA()()()}if(2&i){const t=o.$implicit,a=o.index;e.xp6(2),e.Oqu(a+1),e.xp6(2),e.Oqu(t.user.name),e.xp6(2),e.Oqu(t.department_name),e.xp6(2),e.Oqu(t.role),e.xp6(2),e.Oqu(t.office_branch),e.xp6(2),e.Oqu(t.job_type),e.xp6(5),e.Q6J("routerLink",e.WLB(9,v,e.lcZ(18,7,"/dashboard/employees/add-employee"),t.id))}}function b(i,o){1&i&&(e.TgZ(0,"tr")(1,"td",32),e._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),e.qZA()())}let y=(()=>{class i{constructor(t,a,n,r){this.employeeService=t,this.router=a,this.localize=n,this.dialog=r,this.employees=[],this.searchQuery="",this.loading=!0}ngOnInit(){this.getListEmployees()}getListEmployees(t=1){this.loading=!0,this.employeeService.GetEmployeesList({page:t}).subscribe({next:a=>{this.employees=a.data,console.log(this.employees),this.currentPage=a.pagination.current_page,this.totalPages=a.pagination.last_page,this.loading=!1},error:a=>{this.loading=!1,console.error("There was an error!",a)}})}navigateToAddEmployee(){const t=this.localize.translateRoute("/dashboard/employees/add-employee");this.router.navigate([t])}deleteEmployee(t,a){this.dialog.open(E.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${a} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(r=>{r&&this.employeeService.DeleteEmployee(t.toString()).subscribe({next:s=>{this.getListEmployees()},error:s=>{console.error("There was an error deleting the admin!",s)}})})}viewEmployee(t){if(t){const a=this.localize.translateRoute("/dashboard/employees/view-employee");this.router.navigate([a,t.id])}else console.error("No employee to view")}onPageChange(t){this.getListEmployees(t)}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(C.M),e.Y36(u.F0),e.Y36(_.An),e.Y36(F.uw))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-employees-list"]],standalone:!0,features:[e.jDz],decls:49,vars:4,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-12"],[1,"row","list-row"],[1,"card","rounded-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-xl-3","col-lg-3","addNew","mb-2"],[1,"btn","w-100","py-3","rounded-4",3,"click"],[1,"fa-solid","fa-circle-plus","me-2"],[1,"col-xl-7","col-lg-6","col-sm-8","searchINP","mb-2"],["type","search","placeholder","\u0627\u0644\u0628\u062d\u062b",1,"form-control","form-control-lg","rounded-3"],[1,"col-xl-2","col-lg-3","col-sm-4","text-center","filterBTN","mb-2"],[1,"btn","px-sm-4","px-5"],[1,"fa-solid","fa-sliders"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[1,"col-md-12"],[3,"currentPage","totalPages","pageChange"],[1,"action"],[1,"btn","get","mx-2",3,"click"],[1,"fa-solid","fa-eye"],[1,"btn","edit","mx-2",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete","bg-danger","mx-2",3,"click"],[1,"fa-regular","fa-trash-can"],["colspan","6",1,"text-center"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA()(),e.TgZ(9,"div",5)(10,"div",4)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"a",10),e.NdJ("click",function(){return n.navigateToAddEmployee()}),e._UZ(16,"i",11),e._uU(17," \u0625\u0636\u0627\u0641\u0629 \u0645\u0648\u0638\u0641 \u062c\u062f\u064a\u062f "),e.qZA()(),e.TgZ(18,"div",12),e._UZ(19,"input",13),e.qZA(),e.TgZ(20,"div",14)(21,"button",15),e._UZ(22,"i",16),e._uU(23," \u062a\u0635\u0646\u064a\u0641 "),e.qZA()()()(),e.TgZ(24,"div",17)(25,"div",18)(26,"table",19)(27,"thead")(28,"tr")(29,"th"),e._uU(30,"\u062a\u0631\u0642\u064a\u0645"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"\u0627\u0644\u0642\u0633\u0645"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"\u062f\u0648\u0631 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(37,"th"),e._uU(38,"\u0645\u0643\u062a\u0628"),e.qZA(),e.TgZ(39,"th"),e._uU(40,"\u0646\u0648\u0639 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),e.qZA(),e._UZ(41,"th"),e.qZA()(),e.TgZ(42,"tbody"),e.YNc(43,T,24,12,"tr",20),e.YNc(44,b,3,0,"tr",21),e.qZA()()()(),e.TgZ(45,"div",7)(46,"div",22)(47,"div",23)(48,"pagination",24),e.NdJ("pageChange",function(s){return n.onPageChange(s)}),e.qZA()()()()()()()()),2&a&&(e.xp6(43),e.Q6J("ngForOf",n.employees),e.xp6(1),e.Q6J("ngIf",0===n.employees.length&&!n.loading),e.xp6(4),e.Q6J("currentPage",n.currentPage)("totalPages",n.totalPages))},dependencies:[d.ez,d.sg,d.O5,u.Bz,u.rH,_.fQ,_.lO,x.Q,l.u5,I.L],styles:[".get[_ngcontent-%COMP%], .edit[_ngcontent-%COMP%]{color:#fff}"]})}return i})();var f=p(4286),D=p(9172);const Z=["fileInput"];function Q(i,o){1&i&&(e.TgZ(0,"h5"),e._uU(1,"\u0623\u0636\u0627\u0641\u0629 \u0645\u0648\u0638\u0641"),e.qZA())}function N(i,o){1&i&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0645\u0648\u0638\u0641"),e.qZA())}function j(i,o){1&i&&e._UZ(0,"img",62)}function W(i,o){if(1&i&&e._UZ(0,"img",63),2&i){const t=e.oxw();e.Q6J("src",t.conversions[0].original,e.LSH)}}function ke(i,o){if(1&i&&e._UZ(0,"img",63),2&i){const t=e.oxw();e.Q6J("src",t.images[0].path,e.LSH)}}function Se(i,o){1&i&&(e.TgZ(0,"label",64),e._uU(1," \u0623\u0636\u0627\u0641\u0629 \u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0648\u0638\u0641 "),e.qZA())}function qe(i,o){1&i&&(e.TgZ(0,"label",64),e._uU(1," \u062a\u063a\u064a\u064a\u0631 \u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0648\u0638\u0641 "),e.qZA())}function Ne(i,o){1&i&&(e.TgZ(0,"div",65),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Pe(i,o){if(1&i&&(e.TgZ(0,"div",65),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.employeeForm.controls.email.errors?null:t.employeeForm.controls.email.errors.serverError[0]," ")}}function Le(i,o){if(1&i&&(e.TgZ(0,"div",65),e.YNc(1,Ne,2,0,"div",26),e.YNc(2,Pe,2,1,"div",26),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.email.errors?null:t.employeeForm.controls.email.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.email.errors?null:t.employeeForm.controls.email.errors.serverError)}}function Oe(i,o){1&i&&(e.TgZ(0,"div",65),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Ue(i,o){if(1&i&&(e.TgZ(0,"div",65),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.employeeForm.controls.employment_date.errors?null:t.employeeForm.controls.employment_date.errors.serverError[0]," ")}}function Ye(i,o){if(1&i&&(e.TgZ(0,"div",65),e.YNc(1,Oe,2,0,"div",26),e.YNc(2,Ue,2,1,"div",26),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.employment_date.errors?null:t.employeeForm.controls.employment_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.employment_date.errors?null:t.employeeForm.controls.employment_date.errors.serverError)}}function Ve(i,o){1&i&&(e.TgZ(0,"div",65),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Be(i,o){if(1&i&&(e.TgZ(0,"div",65),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.employeeForm.controls.office_branch.errors?null:t.employeeForm.controls.office_branch.errors.serverError[0]," ")}}function Qe(i,o){if(1&i&&(e.TgZ(0,"div",65),e.YNc(1,Ve,2,0,"div",26),e.YNc(2,Be,2,1,"div",26),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.office_branch.errors?null:t.employeeForm.controls.office_branch.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.office_branch.errors?null:t.employeeForm.controls.office_branch.errors.serverError)}}function je(i,o){1&i&&(e.TgZ(0,"div",65),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function ze(i,o){if(1&i&&(e.TgZ(0,"div",65),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.employeeForm.controls.job_type.errors?null:t.employeeForm.controls.job_type.errors.serverError[0]," ")}}function Je(i,o){if(1&i&&(e.TgZ(0,"div",65),e.YNc(1,je,2,0,"div",26),e.YNc(2,ze,2,1,"div",26),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.job_type.errors?null:t.employeeForm.controls.job_type.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.job_type.errors?null:t.employeeForm.controls.job_type.errors.serverError)}}function He(i,o){1&i&&(e.TgZ(0,"div",65),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function $e(i,o){if(1&i&&(e.TgZ(0,"div",65),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.employeeForm.controls.department_name.errors?null:t.employeeForm.controls.department_name.errors.serverError[0]," ")}}function Ge(i,o){if(1&i&&(e.TgZ(0,"div",65),e.YNc(1,He,2,0,"div",26),e.YNc(2,$e,2,1,"div",26),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.department_name.errors?null:t.employeeForm.controls.department_name.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.department_name.errors?null:t.employeeForm.controls.department_name.errors.serverError)}}function Ke(i,o){1&i&&(e.TgZ(0,"div",65),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function We(i,o){if(1&i&&(e.TgZ(0,"div",65),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.employeeForm.controls.role.errors?null:t.employeeForm.controls.role.errors.serverError[0]," ")}}function Xe(i,o){if(1&i&&(e.TgZ(0,"div",65),e.YNc(1,Ke,2,0,"div",26),e.YNc(2,We,2,1,"div",26),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.role.errors?null:t.employeeForm.controls.role.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.role.errors?null:t.employeeForm.controls.role.errors.serverError)}}function et(i,o){1&i&&(e.TgZ(0,"div",65),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function tt(i,o){if(1&i&&(e.TgZ(0,"div",65),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.employeeForm.controls.shifts.errors?null:t.employeeForm.controls.shifts.errors.serverError[0]," ")}}function it(i,o){if(1&i&&(e.TgZ(0,"div",65),e.YNc(1,et,2,0,"div",26),e.YNc(2,tt,2,1,"div",26),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.shifts.errors?null:t.employeeForm.controls.shifts.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.shifts.errors?null:t.employeeForm.controls.shifts.errors.serverError)}}function at(i,o){1&i&&(e.TgZ(0,"div",65),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function nt(i,o){if(1&i&&(e.TgZ(0,"div",65),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.employeeForm.controls.salary.errors?null:t.employeeForm.controls.salary.errors.serverError[0]," ")}}function rt(i,o){if(1&i&&(e.TgZ(0,"div",65),e.YNc(1,at,2,0,"div",26),e.YNc(2,nt,2,1,"div",26),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.salary.errors?null:t.employeeForm.controls.salary.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.salary.errors?null:t.employeeForm.controls.salary.errors.serverError)}}function ot(i,o){1&i&&(e.TgZ(0,"div",65),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function lt(i,o){if(1&i&&(e.TgZ(0,"div",65),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.employeeForm.controls.asset_name.errors?null:t.employeeForm.controls.asset_name.errors.serverError[0]," ")}}function st(i,o){if(1&i&&(e.TgZ(0,"div",65),e.YNc(1,ot,2,0,"div",26),e.YNc(2,lt,2,1,"div",26),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.asset_name.errors?null:t.employeeForm.controls.asset_name.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.asset_name.errors?null:t.employeeForm.controls.asset_name.errors.serverError)}}function dt(i,o){1&i&&(e.TgZ(0,"div",65),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function ct(i,o){if(1&i&&(e.TgZ(0,"div",65),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.employeeForm.controls.is_manager.errors?null:t.employeeForm.controls.is_manager.errors.serverError[0]," ")}}function ut(i,o){if(1&i&&(e.TgZ(0,"div",65),e.YNc(1,dt,2,0,"div",26),e.YNc(2,ct,2,1,"div",26),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.is_manager.errors?null:t.employeeForm.controls.is_manager.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.is_manager.errors?null:t.employeeForm.controls.is_manager.errors.serverError)}}function mt(i,o){1&i&&(e.TgZ(0,"div",65),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function pt(i,o){if(1&i&&(e.TgZ(0,"div",65),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.employeeForm.controls.insurance_package.errors?null:t.employeeForm.controls.insurance_package.errors.serverError[0]," ")}}function _t(i,o){if(1&i&&(e.TgZ(0,"div",65),e.YNc(1,mt,2,0,"div",26),e.YNc(2,pt,2,1,"div",26),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.insurance_package.errors?null:t.employeeForm.controls.insurance_package.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.insurance_package.errors?null:t.employeeForm.controls.insurance_package.errors.serverError)}}function ft(i,o){1&i&&(e.TgZ(0,"div",65),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function ht(i,o){if(1&i&&(e.TgZ(0,"div",65),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.employeeForm.controls.gender.errors?null:t.employeeForm.controls.gender.errors.serverError[0]," ")}}function gt(i,o){if(1&i&&(e.TgZ(0,"div",65),e.YNc(1,ft,2,0,"div",26),e.YNc(2,ht,2,1,"div",26),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.gender.errors?null:t.employeeForm.controls.gender.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeForm.controls.gender.errors?null:t.employeeForm.controls.gender.errors.serverError)}}function vt(i,o){1&i&&(e.ynx(0),e.TgZ(1,"div",66)(2,"button",67),e._UZ(3,"i",68),e._uU(4," \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0648\u0638\u0641 "),e.qZA()(),e.BQk())}function xt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",66)(1,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateEmployee())}),e._uU(2," \u062a\u0639\u062f\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641 "),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.employeeForm.valid)}}const bt=function(i){return[i]};let he=(()=>{class i{constructor(t,a,n,r,s,c){this.localize=t,this.router=a,this.activatedRoute=n,this._MessagesService=r,this.employeesService=s,this.dashboardService=c,this.selectedFile=null,this.images=[],this.conversions=[],this.isEditMode=!1,this.employeeId="",this.errorMessage="",this.employeeForm=new l.cw({email:new l.NI("",[l.kI.required,l.kI.email]),department_name:new l.NI("",l.kI.required),salary:new l.NI(0,[l.kI.required,l.kI.min(0)]),role:new l.NI("",l.kI.required),employment_date:new l.NI("",l.kI.required),gender:new l.NI("1",l.kI.required),office_branch:new l.NI("",l.kI.required),insurance_package:new l.NI("",l.kI.required),job_type:new l.NI("",l.kI.required),asset_name:new l.NI("",l.kI.required),is_manager:new l.NI("",l.kI.required),shifts:new l.NI("",l.kI.required),image:new l.NI(null)})}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{const a=t.get("id");a&&(this.employeeId=a,this.isEditMode=!0,this.employeesService.GetEmployeeById(a).subscribe(n=>{n&&n.data&&this.setFormValues(n.data)}))})}setFormValues(t){this.employeeForm.patchValue({email:t.user.email,department_name:t.department_name,role:t.role,salary:t.salary,employment_date:t.employment_date,gender:t.gender,office_branch:t.office_branch,insurance_package:t.insurance_package,job_type:t.job_type,asset_name:t.asset_name,is_manager:t.is_manager,shifts:t.shifts}),t.conversion_urls&&(this.conversions=[],t.conversion_urls.forEach(a=>{this.conversions.push({original:a.original,conversions:a.conversions})}))}onFileChange(t){const a=t.target.files[0];a&&(this.selectedFile=a,this.images=[{name:a.name,path:URL.createObjectURL(a),file:a}],this.fileInput.nativeElement.value="",this.employeeForm.get("image")?.setValue(a))}updateEmployee(){this.employeeForm.valid?this.employeesService.UpdateEmployee(this.employeeId,{email:this.employeeForm.controls.email.value,department_name:this.employeeForm.controls.department_name.value,role:this.employeeForm.controls.role.value,salary:this.employeeForm.controls.salary.value,employment_date:this.employeeForm.controls.employment_date.value,gender:this.employeeForm.controls.gender.value,office_branch:this.employeeForm.controls.office_branch.value,insurance_package:this.employeeForm.controls.insurance_package.value,job_type:this.employeeForm.controls.job_type.value,asset_name:this.employeeForm.controls.asset_name.value,is_manager:this.employeeForm.controls.is_manager.value,shifts:this.employeeForm.controls.shifts.value,image:this.employeeForm.controls.image.value,_method:"PATCH"}).subscribe({next:a=>{this.navigateToEmployeesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",3e3)},error:a=>{a.error&&a.error.errors?this.handleValidationErrors(a.error.errors):console.error("Failed to update employee:",a)}}):this.employeeForm.markAllAsTouched()}onSubmit(){this.employeeForm.valid?this.employeesService.AddEmployee({email:this.employeeForm.controls.email.value,department_name:this.employeeForm.controls.department_name.value,salary:this.employeeForm.controls.salary.value,role:this.employeeForm.controls.role.value,employment_date:this.employeeForm.controls.employment_date.value,gender:this.employeeForm.controls.gender.value,office_branch:this.employeeForm.controls.office_branch.value,insurance_package:this.employeeForm.controls.insurance_package.value,job_type:this.employeeForm.controls.job_type.value,asset_name:this.employeeForm.controls.asset_name.value,is_manager:this.employeeForm.controls.is_manager.value,shifts:this.employeeForm.controls.shifts.value,image:this.selectedFile}).subscribe({next:a=>{this.navigateToEmployeesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:a=>{a.error&&a.error.errors?this.handleValidationErrors(a.error.errors):(this.errorMessage="Failed to add employee. Please try again.",console.error("Failed to add employee:",a))}}):this.employeeForm.markAllAsTouched()}handleValidationErrors(t){for(const a in t)if(t.hasOwnProperty(a)){const n=this.employeeForm.get(a);n&&n.setErrors({serverError:t[a]})}}navigateToEmployeesList(){const t=this.localize.translateRoute("/dashboard/employees");this.router.navigate([t])}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(_.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(f.K),e.Y36(C.M),e.Y36(D.K))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-employee"]],viewQuery:function(a,n){if(1&a&&e.Gf(Z,5),2&a){let r;e.iGM(r=e.CRH())&&(n.fileInput=r.first)}},standalone:!0,features:[e.jDz],decls:115,vars:27,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-12","mb-4"],["for","profileImg",1,"form-label","me-3"],["src","../../../../../../../assets/images/Profile-Photo.png","alt","",4,"ngIf"],["alt","","class","rounded-2","width","190",3,"src",4,"ngIf"],["type","file","name","image","id","profileImg","hidden","",3,"change"],["fileInput",""],["for","profileImg","class","form-label",4,"ngIf"],[1,"form-group","col-md-6","mb-3"],["for","email",1,"form-label"],[1,"input-group","input-group-lg"],["id","email","name","email","type","email","formControlName","email","placeholder","\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],["class","ms-error",4,"ngIf"],["for","employment_date",1,"form-label"],["for","employment_date",1,"input-group-text"],[1,"fa-regular","fa-calendar"],["type","date","formControlName","employment_date","name","employment_date","id","employment_date",1,"form-control","form-control-lg"],["for","office_branch",1,"form-label"],["name","office_branch","id","office_branch","formControlName","office_branch",1,"form-control","form-control-lg"],["for","job_type",1,"form-label"],["formControlName","job_type","name","job_type","id","job_type",1,"form-select","form-select-lg"],["value","part_time"],["value","full_time"],["for","department_name",1,"form-label"],["type","text","name","department_name","id","department_name","formControlName","department_name",1,"form-control","form-control-lg"],["for","role",1,"form-label"],["type","text","name","role","id","role","formControlName","role",1,"form-control","form-control-lg"],["for","shifts",1,"form-label"],["name","shifts","formControlName","shifts","id","shifts",1,"form-select","form-select-lg"],["value","morning"],["value","evening"],["for","salary",1,"form-label"],["type","number","name","salary","formControlName","salary","id","salary",1,"form-control","form-control-lg"],["for","asset_name",1,"form-label"],["type","text","name","asset_name","id","asset_name","formControlName","asset_name",1,"form-control","form-control-lg"],["for","is_manager",1,"form-label"],["name","is_manager","formControlName","is_manager","id","is_manager",1,"form-select","form-select-lg"],["value","1"],["value","0"],["for","insurance_package",1,"form-label"],["type","text","name","insurance_package","formControlName","insurance_package","id","insurance_package",1,"form-control","form-control-lg"],[1,"form-label"],["type","radio","name","gender","formControlName","gender","id","male","value","male","hidden",""],["for","male",1,"me-2"],["type","radio","name","gender","formControlName","gender","id","female","value","female","hidden",""],["for","female",1,"me-2"],[4,"ngIf","ngIfElse"],["editButton",""],["src","../../../../../../../assets/images/Profile-Photo.png","alt",""],["alt","","width","190",1,"rounded-2",3,"src"],["for","profileImg",1,"form-label"],[1,"ms-error"],[1,"form-group","col-md-12","mb-3"],["type","submit",1,"btn","px-5","py-3"],[1,"fa-solid","fa-circle-plus","me-2"],["type","button",1,"btn","px-5","py-3",3,"disabled","click"]],template:function(a,n){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,Q,2,0,"h5",12),e.YNc(19,N,2,0,"h5",12),e.TgZ(20,"form",13),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e.YNc(24,j,1,0,"img",17),e.YNc(25,W,1,1,"img",18),e.YNc(26,ke,1,1,"img",18),e.qZA(),e.TgZ(27,"input",19,20),e.NdJ("change",function(s){return n.onFileChange(s)}),e.qZA(),e.YNc(29,Se,2,0,"label",21),e.YNc(30,qe,2,0,"label",21),e.qZA(),e.TgZ(31,"div",22)(32,"label",23),e._uU(33,"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a"),e.qZA(),e.TgZ(34,"div",24),e._UZ(35,"input",25),e.qZA(),e.YNc(36,Le,3,2,"div",26),e.qZA(),e.TgZ(37,"div",22)(38,"label",27),e._uU(39,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0648\u0638\u064a\u0641"),e.qZA(),e.TgZ(40,"div",24)(41,"label",28),e._UZ(42,"i",29),e.qZA(),e._UZ(43,"input",30),e.qZA(),e.YNc(44,Ye,3,2,"div",26),e.qZA(),e.TgZ(45,"div",22)(46,"label",31),e._uU(47,"\u0627\u0644\u0645\u0643\u062a\u0628"),e.qZA(),e._UZ(48,"input",32),e.YNc(49,Qe,3,2,"div",26),e.qZA(),e.TgZ(50,"div",22)(51,"label",33),e._uU(52,"\u0646\u0648\u0639 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),e.qZA(),e.TgZ(53,"select",34)(54,"option",35),e._uU(55,"Part Time"),e.qZA(),e.TgZ(56,"option",36),e._uU(57,"Full Time"),e.qZA()(),e.YNc(58,Je,3,2,"div",26),e.qZA(),e.TgZ(59,"div",22)(60,"label",37),e._uU(61,"\u0627\u0644\u0642\u0633\u0645"),e.qZA(),e._UZ(62,"input",38),e.YNc(63,Ge,3,2,"div",26),e.qZA(),e.TgZ(64,"div",22)(65,"label",39),e._uU(66,"\u062f\u0648\u0631 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e._UZ(67,"input",40),e.YNc(68,Xe,3,2,"div",26),e.qZA(),e.TgZ(69,"div",22)(70,"label",41),e._uU(71,"\u0627\u0644\u0648\u0631\u062f\u064a\u0629"),e.qZA(),e.TgZ(72,"select",42)(73,"option",43),e._uU(74,"\u0635\u0628\u0627\u062d\u064a"),e.qZA(),e.TgZ(75,"option",44),e._uU(76,"\u0645\u0633\u0627\u0626\u064a"),e.qZA()(),e.YNc(77,it,3,2,"div",26),e.qZA(),e.TgZ(78,"div",22)(79,"label",45),e._uU(80,"\u0627\u0644\u0645\u0631\u062a\u0628"),e.qZA(),e._UZ(81,"input",46),e.YNc(82,rt,3,2,"div",26),e.qZA(),e.TgZ(83,"div",22)(84,"label",47),e._uU(85,"\u0627\u0644\u0639\u0647\u062f\u0629"),e.qZA(),e._UZ(86,"input",48),e.YNc(87,st,3,2,"div",26),e.qZA(),e.TgZ(88,"div",22)(89,"label",49),e._uU(90,"\u062a\u0639\u064a\u064a\u0646 \u0643\u0645\u0633\u0624\u0648\u0644"),e.qZA(),e.TgZ(91,"select",50)(92,"option",51),e._uU(93,"\u0646\u0639\u0645"),e.qZA(),e.TgZ(94,"option",52),e._uU(95,"\u0644\u0627"),e.qZA()(),e.YNc(96,ut,3,2,"div",26),e.qZA(),e.TgZ(97,"div",22)(98,"label",53),e._uU(99,"\u062e\u0637\u0629 \u0627\u0644\u062a\u0623\u0645\u064a\u0646"),e.qZA(),e._UZ(100,"input",54),e.YNc(101,_t,3,2,"div",26),e.qZA(),e.TgZ(102,"div",22)(103,"p",55),e._uU(104,"\u0627\u0644\u0646\u0648\u0639"),e.qZA(),e._UZ(105,"input",56),e.TgZ(106,"label",57),e._uU(107,"\u0630\u0643\u0631"),e.qZA(),e._UZ(108,"input",58),e.TgZ(109,"label",59),e._uU(110,"\u0627\u0646\u062b\u0649"),e.qZA(),e.YNc(111,gt,3,2,"div",26),e.qZA(),e.YNc(112,vt,5,0,"ng-container",60),e.YNc(113,xt,3,1,"ng-template",null,61,e.W1O),e.qZA()()()()()()()),2&a){const r=e.MAs(114);e.xp6(10),e.Q6J("routerLink",e.VKq(25,bt,e.lcZ(11,23,"/dashboard/employees"))),e.xp6(8),e.Q6J("ngIf",!n.isEditMode),e.xp6(1),e.Q6J("ngIf",n.isEditMode),e.xp6(1),e.Q6J("formGroup",n.employeeForm),e.xp6(4),e.Q6J("ngIf",!n.isEditMode&&0===n.images.length),e.xp6(1),e.Q6J("ngIf",n.isEditMode&&n.conversions.length>0&&0===n.images.length),e.xp6(1),e.Q6J("ngIf",n.images.length>0),e.xp6(3),e.Q6J("ngIf",!n.isEditMode),e.xp6(1),e.Q6J("ngIf",n.isEditMode),e.xp6(6),e.Q6J("ngIf",n.employeeForm.controls.email.invalid&&(n.employeeForm.controls.email.dirty||n.employeeForm.controls.email.touched)),e.xp6(8),e.Q6J("ngIf",n.employeeForm.controls.employment_date.invalid&&(n.employeeForm.controls.employment_date.dirty||n.employeeForm.controls.employment_date.touched)),e.xp6(5),e.Q6J("ngIf",n.employeeForm.controls.office_branch.invalid&&(n.employeeForm.controls.office_branch.dirty||n.employeeForm.controls.office_branch.touched)),e.xp6(9),e.Q6J("ngIf",n.employeeForm.controls.job_type.invalid&&(n.employeeForm.controls.job_type.dirty||n.employeeForm.controls.job_type.touched)),e.xp6(5),e.Q6J("ngIf",n.employeeForm.controls.department_name.invalid&&(n.employeeForm.controls.department_name.dirty||n.employeeForm.controls.department_name.touched)),e.xp6(5),e.Q6J("ngIf",n.employeeForm.controls.role.invalid&&(n.employeeForm.controls.role.dirty||n.employeeForm.controls.role.touched)),e.xp6(9),e.Q6J("ngIf",n.employeeForm.controls.shifts.invalid&&(n.employeeForm.controls.shifts.dirty||n.employeeForm.controls.shifts.touched)),e.xp6(5),e.Q6J("ngIf",n.employeeForm.controls.salary.invalid&&(n.employeeForm.controls.salary.dirty||n.employeeForm.controls.salary.touched)),e.xp6(5),e.Q6J("ngIf",n.employeeForm.controls.asset_name.invalid&&(n.employeeForm.controls.asset_name.dirty||n.employeeForm.controls.asset_name.touched)),e.xp6(9),e.Q6J("ngIf",n.employeeForm.controls.is_manager.invalid&&(n.employeeForm.controls.is_manager.dirty||n.employeeForm.controls.is_manager.touched)),e.xp6(5),e.Q6J("ngIf",n.employeeForm.controls.insurance_package.invalid&&(n.employeeForm.controls.insurance_package.dirty||n.employeeForm.controls.insurance_package.touched)),e.xp6(10),e.Q6J("ngIf",n.employeeForm.controls.gender.invalid&&(n.employeeForm.controls.gender.dirty||n.employeeForm.controls.gender.touched)),e.xp6(1),e.Q6J("ngIf",!n.isEditMode)("ngIfElse",r)}},dependencies:[d.ez,d.O5,l.u5,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l._,l.JJ,l.JL,l.UX,l.sg,l.u,_.fQ,_.lO,u.Bz,u.rH,I.L],styles:[".ms-error[_ngcontent-%COMP%]{color:red;margin-top:5px}"]})}return i})(),yt=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-main-employee"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(a,n){1&a&&e._UZ(0,"router-outlet")},dependencies:[d.ez,u.lC]})}return i})();var w=p(9862),M=p(553);let X=(()=>{class i{constructor(t){this.http=t,this.socialInsurancesListUrl=`${M.N.url}employee/social/insurance`,this.createSocialInsuranceUrl=`${M.N.url}employee/social/insurance`,this.updateSocialInsuranceUrl=`${M.N.url}employee/social/insurance/`,this.deleteSocialInsuranceUrl=`${M.N.url}employee/social/insurance`,this.getSocialInsuranceUrl=`${M.N.url}employee/social/insurance/`}getAllSocialInsurances(t){let a=new w.LE;return t&&Object.keys(t).forEach(n=>{a=a.append(n,t[n])}),this.http.get(this.socialInsurancesListUrl,{params:a})}createSocialInsurance(t,a){let n=new w.LE;return a&&Object.keys(a).forEach(r=>{n=n.append(r,a[r])}),this.http.post(this.createSocialInsuranceUrl,t,{params:n,headers:{"Content-Type":"application/json"}})}getSocialInsuranceById(t){return this.http.get(`${this.getSocialInsuranceUrl}${t}`)}updateSocialInsurance(t,a,n){const r=`${this.updateSocialInsuranceUrl}${t}`;let s=new w.LE;n&&Object.keys(n).forEach(m=>{s=s.append(m,n[m])});const c=new FormData;return Object.keys(a).forEach(m=>{const h=a[m];null!=h&&c.append(m,h.toString())}),this.http.post(r,c,{params:s})}deleteSocialInsurance(t){return this.http.delete(`${this.deleteSocialInsuranceUrl}/${t}`)}static#e=this.\u0275fac=function(a){return new(a||i)(e.LFG(w.eN))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function At(i,o){1&i&&e._UZ(0,"input",73)}function It(i,o){1&i&&(e.TgZ(0,"label",74),e._uU(1,"\u0630\u0643\u0631"),e.qZA())}function Ct(i,o){1&i&&e._UZ(0,"input",75)}function Mt(i,o){1&i&&(e.TgZ(0,"label",76),e._uU(1,"\u0627\u0646\u062b\u0649"),e.qZA())}const wt=function(i,o){return[i,o]};function Ft(i,o){if(1&i&&(e.TgZ(0,"div",78)(1,"div",79)(2,"label",80),e._uU(3,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0634\u0631\u0648\u0639:"),e.qZA(),e.TgZ(4,"a",81),e.ALo(5,"localize"),e.TgZ(6,"h4",82),e._uU(7),e.qZA()()(),e.TgZ(8,"div",36)(9,"label",83),e._uU(10,"\u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u0634\u0631\u0648\u0639"),e.qZA(),e._UZ(11,"input",84),e.qZA(),e.TgZ(12,"div",36)(13,"label",83),e._uU(14,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u0634\u0631\u0648\u0639"),e.qZA(),e._UZ(15,"input",84),e.qZA()()),2&i){const t=o.$implicit;e.xp6(4),e.Q6J("routerLink",e.WLB(6,wt,e.lcZ(5,4,"/dashboard/projects/view-project"),t.id)),e.xp6(3),e.Oqu(t.name),e.xp6(4),e.Q6J("value",t.project_status),e.xp6(4),e.Q6J("value",t.date)}}function Dt(i,o){if(1&i&&(e.ynx(0),e.YNc(1,Ft,16,9,"div",77),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.employee.projects)}}function Tt(i,o){1&i&&(e.TgZ(0,"h4",85),e._uU(1,"\u0644\u0645 \u064a\u062a\u0645 \u062a\u0639\u064a\u064a\u0646 \u0627\u0644\u0645\u0648\u0638\u0641 \u0641\u064a \u0627\u064a \u0645\u0634\u0631\u0648\u0639 \u0628\u0639\u062f"),e.qZA())}const Et=function(i){return["/dashboard/employees/add-employee",i]};function Zt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12)(4,"ul",13)(5,"li",14)(6,"button",15),e._UZ(7,"i",16),e._uU(8," \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0634\u062e\u0635\u064a\u0629 "),e.qZA()(),e.TgZ(9,"li",14)(10,"button",17),e._UZ(11,"i",18),e._uU(12," \u0627\u0644\u0645\u0634\u0627\u0631\u064a\u0639 "),e.qZA()()()(),e.TgZ(13,"div",19)(14,"div",20)(15,"div",21)(16,"div",22)(17,"div",23)(18,"div",20)(19,"div",24),e._UZ(20,"img",25),e.qZA(),e.TgZ(21,"div",26)(22,"h2",27),e._uU(23),e.qZA(),e.TgZ(24,"p",28),e._uU(25),e.qZA()()()()()(),e.TgZ(26,"div",29)(27,"a",30),e.ALo(28,"localize"),e._UZ(29,"i",31),e._uU(30," \u062a\u0639\u062f\u064a\u0644 "),e.qZA(),e.TgZ(31,"button",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteEmployee(n.employee.id,n.employee.user.name))}),e._UZ(32,"i",33),e._uU(33," \u062d\u0630\u0641 "),e.qZA()()()(),e.TgZ(34,"div",23)(35,"div",34)(36,"div",35)(37,"div",20)(38,"div",36)(39,"label",37),e._uU(40,"\u0627\u0644\u0623\u0633\u0645"),e.qZA(),e._UZ(41,"input",38),e.qZA(),e.TgZ(42,"div",36)(43,"label",39),e._uU(44,"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a"),e.qZA(),e.TgZ(45,"div",40)(46,"label",41),e._uU(47,"@"),e.qZA(),e._UZ(48,"input",42),e.qZA()(),e.TgZ(49,"div",36)(50,"label",43),e._uU(51,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0648\u0638\u064a\u0641"),e.qZA(),e.TgZ(52,"div",40)(53,"label",44),e._UZ(54,"i",45),e.qZA(),e._UZ(55,"input",46),e.qZA()(),e.TgZ(56,"div",36)(57,"label",47),e._uU(58,"\u0627\u0644\u0645\u0643\u062a\u0628"),e.qZA(),e._UZ(59,"input",48),e.qZA(),e.TgZ(60,"div",36)(61,"label",49),e._uU(62,"\u0646\u0648\u0639 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),e.qZA(),e._UZ(63,"input",50),e.qZA(),e.TgZ(64,"div",36)(65,"label",51),e._uU(66,"\u0627\u0644\u0642\u0633\u0645"),e.qZA(),e._UZ(67,"input",52),e.qZA(),e.TgZ(68,"div",36)(69,"label",53),e._uU(70,"\u062f\u0648\u0631 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e._UZ(71,"input",54),e.qZA(),e.TgZ(72,"div",36)(73,"label",55),e._uU(74,"\u0627\u0644\u0648\u0631\u062f\u064a\u0629"),e.qZA(),e._UZ(75,"input",56),e.qZA(),e.TgZ(76,"div",36)(77,"label",57),e._uU(78,"\u0627\u0644\u0645\u0631\u062a\u0628"),e.qZA(),e._UZ(79,"input",58),e.qZA(),e.TgZ(80,"div",36)(81,"label",59),e._uU(82,"\u0627\u0644\u0639\u0647\u062f\u0629"),e.qZA(),e._UZ(83,"input",60),e.qZA(),e.TgZ(84,"div",36)(85,"label",61),e._uU(86,"\u062e\u0637\u0629 \u0627\u0644\u062a\u0623\u0645\u064a\u0646"),e.qZA(),e._UZ(87,"input",62),e.qZA(),e.TgZ(88,"div",36)(89,"label",63),e._uU(90,"\u0645\u0633\u0624\u0648\u0644"),e.qZA(),e._UZ(91,"input",64),e.qZA(),e.TgZ(92,"div",36)(93,"p",65),e._uU(94,"\u0627\u0644\u0646\u0648\u0639"),e.qZA(),e.YNc(95,At,1,0,"input",66),e.YNc(96,It,2,0,"label",67),e.YNc(97,Ct,1,0,"input",68),e.YNc(98,Mt,2,0,"label",69),e.qZA()()(),e.TgZ(99,"div",70),e.YNc(100,Dt,2,1,"ng-container",71),e.YNc(101,Tt,2,0,"ng-template",null,72,e.W1O),e.qZA()()()()()()}if(2&i){const t=e.MAs(102),a=e.oxw();e.xp6(20),e.s9C("src",a.employee.conversion_urls[0].original,e.LSH),e.xp6(3),e.hij(" ",a.employee.user.name," "),e.xp6(2),e.Oqu(a.employee.user.email),e.xp6(2),e.Q6J("routerLink",e.lcZ(28,22,e.VKq(24,Et,a.employee.id))),e.xp6(14),e.Q6J("value",a.employee.user.name),e.xp6(7),e.Q6J("value",a.employee.user.email),e.xp6(7),e.Q6J("value",a.employee.employment_date),e.xp6(4),e.Q6J("value",a.employee.office_branch),e.xp6(4),e.Q6J("value",a.employee.job_type),e.xp6(4),e.Q6J("value",a.employee.department_name),e.xp6(4),e.Q6J("value",a.employee.role),e.xp6(4),e.Q6J("value",a.employee.shifts),e.xp6(4),e.Q6J("value",a.employee.salary),e.xp6(4),e.Q6J("value",a.employee.asset_name),e.xp6(4),e.Q6J("value",a.employee.insurance_package),e.xp6(4),e.Q6J("value",a.employee.is_manager?"\u0646\u0639\u0645":"\u0644\u0627"),e.xp6(4),e.Q6J("ngIf","male"==a.employee.gender),e.xp6(1),e.Q6J("ngIf","male"==a.employee.gender),e.xp6(1),e.Q6J("ngIf","female"==a.employee.gender),e.xp6(1),e.Q6J("ngIf","female"==a.employee.gender),e.xp6(2),e.Q6J("ngIf",a.employee.projects.length>0)("ngIfElse",t)}}let Rt=(()=>{class i{constructor(t,a,n,r,s,c){this.localize=t,this.router=a,this.activatedRoute=n,this.employeesService=r,this.dialog=s,this.empInsurances=c,this.employeeId="",this.familyInfo=[],this.bankInfo=[],this.loading=!1}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{const a=t.get("id");a&&(this.employeeId=a,this.employeesService.GetEmployeeById(a).subscribe(n=>{n&&n.data&&(this.employee=n.data)}))})}getListEmpInsurances(t=1){this.loading=!0,this.empInsurances.getAllSocialInsurances().subscribe({next:a=>{console.log(a.data),this.currentPage=a.current_page,this.totalPages=a.last_page,this.loading=!1},error:a=>{this.loading=!1,console.error("There was an error!",a)}})}navigateToEmployeesList(){const t=this.localize.translateRoute("/dashboard/employees");this.router.navigate([t])}deleteEmployee(t,a){this.dialog.open(E.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${a} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(r=>{r&&this.employeesService.DeleteEmployee(t.toString()).subscribe({next:s=>{this.navigateToEmployeesList()},error:s=>{console.error("There was an error deleting the admin!",s)}})})}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(_.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(C.M),e.Y36(F.uw),e.Y36(X))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-employee"]],standalone:!0,features:[e.jDz],decls:14,vars:1,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-9"],[1,"col-sm-3","back","text-sm-end"],[1,"text-decoration-none",3,"click"],[1,"fa-solid","fa-chevron-left","ms-2"],["class","row add-row",4,"ngIf"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body","border-b","py-2"],["id","pills-tab","role","tablist",1,"nav","nav-pills"],["role","presentation",1,"nav-item"],["id","mainInfo-tab","data-bs-toggle","pill","data-bs-target","#mainInfo","type","button","role","tab","aria-controls","mainInfo","aria-selected","true",1,"nav-link","active"],[1,"fa-regular","fa-user","me-2"],["id","employeeProjects-tab","data-bs-toggle","pill","data-bs-target","#employeeProjects","type","button","role","tab","aria-controls","employeeProjects","aria-selected","false",1,"nav-link"],[1,"fa-solid","fa-briefcase","me-2"],[1,"card-body","border-b"],[1,"row"],[1,"col-lg-9","col-md-8","col-12","mb-sm-0","mb-3"],[1,"card","border-0"],[1,"card-body"],[1,"col-lg-3","col-md-12","col-sm-4","col-12","mb-lg-0","mb-md-2","mb-sm-0","mb-2","text-lg-start","text-md-center","text-sm-start","text-center"],["alt","",1,"rounded-2","img-fluid",3,"src"],[1,"col","text-lg-start","text-md-center","text-sm-start","text-center"],[1,"card-title"],[1,"card-text","mb-0"],[1,"col-lg-3","col-md-4","col-12","mb-sm-0","mb-3","action","text-center"],[1,"btn","edit","col-sm-10","col-12","py-2","mb-2",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete","col-sm-10","col-12","py-2",3,"click"],[1,"fa-regular","fa-trash-can"],["id","pills-tabContent",1,"tab-content"],["id","mainInfo","role","tabpanel","aria-labelledby","mainInfo-tab","tabindex","0",1,"tab-pane","fade","show","active"],[1,"form-group","col-md-6","mb-3"],["for","firstName",1,"form-label"],["readonly","","type","text","id","firstName","name","firstName",1,"form-control","form-control-lg",3,"value"],["for","email",1,"form-label"],[1,"input-group","input-group-lg"],["for","email","id","basic-addon1",1,"input-group-text"],["readonly","","id","email","name","email","type","text",1,"form-control",3,"value"],["for","employment_date",1,"form-label"],["for","employment_date",1,"input-group-text"],[1,"fa-regular","fa-calendar"],["readonly","","type","date","id","employment_date",1,"form-control","form-control-lg",3,"value"],["for","town",1,"form-label"],["type","text","readonly","","id","town",1,"form-control","form-control-lg",3,"value"],["for","job_type",1,"form-label"],["type","text","readonly","","id","job_type",1,"form-control","form-control-lg",3,"value"],["for","department_name",1,"form-label"],["readonly","","type","text","id","department_name",1,"form-control","form-control-lg",3,"value"],["for","role",1,"form-label"],["type","text","readonly","","id","role",1,"form-control","form-control-lg",3,"value"],["for","shifts",1,"form-label"],["type","text","readonly","","id","shifts",1,"form-control","form-control-lg",3,"value"],["for","salary",1,"form-label"],["readonly","","type","text","id","salary",1,"form-control","form-control-lg",3,"value"],["for","asset_name",1,"form-label"],["type","text","readonly","","id","asset_name",1,"form-control","form-control-lg",3,"value"],["for","insurance_package",1,"form-label"],["type","text","readonly","","id","insurance_package",1,"form-control","form-control-lg",3,"value"],["for","is_manager",1,"form-label"],["type","text","readonly","","id","is_manager",1,"form-control","form-control-lg",3,"value"],[1,"form-label"],["type","radio","name","gender","id","male","value","male","hidden","","checked","",4,"ngIf"],["for","male","class","me-2",4,"ngIf"],["type","radio","name","gender","id","female","value","female","hidden","","checked","",4,"ngIf"],["for","female","class","me-2",4,"ngIf"],["id","employeeProjects","role","tabpanel","aria-labelledby","employeeProjects-tab","tabindex","0",1,"tab-pane","fade"],[4,"ngIf","ngIfElse"],["noProjects",""],["type","radio","name","gender","id","male","value","male","hidden","","checked",""],["for","male",1,"me-2"],["type","radio","name","gender","id","female","value","female","hidden","","checked",""],["for","female",1,"me-2"],["class","row mb-3",4,"ngFor","ngForOf"],[1,"row","mb-3"],[1,"form-group","col-12","mb-3","action"],[1,"form-label","me-3"],[1,"btn","get",3,"routerLink"],[1,"mb-0"],["for","project_status",1,"form-label"],["type","text","id","project_status","readonly","",1,"form-control","form-control-lg",3,"value"],[1,"text-center"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0627\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0648\u0627\u0631\u062f \u0627\u0644\u0628\u0634\u0631\u064a\u0629"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.NdJ("click",function(){return n.navigateToEmployeesList()}),e._uU(11,"\u0631\u062c\u0648\u0639 "),e._UZ(12,"i",7),e.qZA()()(),e.YNc(13,Zt,103,26,"div",8),e.qZA()),2&a&&(e.xp6(13),e.Q6J("ngIf",n.employee))},dependencies:[d.ez,d.sg,d.O5,u.Bz,u.rH,_.fQ,_.lO,l.u5,I.L],styles:[".card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{box-shadow:var(--box-shadow1);border-radius:4px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:var(--main-color)}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   a.edit[_ngcontent-%COMP%]{background-color:var(--stroke-color2);color:#fff}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   button.delete[_ngcontent-%COMP%]{background-color:var(--danger);color:#fff}.otherInfo[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#000}"]})}return i})(),oe=(()=>{class i{constructor(t){this.http=t,this.leaveRequestNotesUrl=`${M.N.url}employee/leave/request/notes/get/all`,this.newLeaveRequestNotesUrl=`${M.N.url}employee/leave/request/notes`,this.deleteLeaveRequestNoteUrl=`${M.N.url}employee/leave/request/notes`,this.leaveRequestsUrl=`${M.N.url}employee/leave/requests`,this.createLeaveRequestUrl=`${M.N.url}employee/leave/requests`,this.updateLeaveRequestUrl=`${M.N.url}employee/leave/requests/`,this.deleteLeaveRequestUrl=`${M.N.url}employee/leave/requests`,this.getLeaveRequestUrl=`${M.N.url}employee/leave/requests/`}getAllLeaveRequests(t){let a=new w.LE;return t&&Object.keys(t).forEach(n=>{a=a.append(n,t[n])}),this.http.get(this.leaveRequestsUrl,{params:a})}getAllLeaveRequestNotes(t){let a=new w.LE;return t&&Object.keys(t).forEach(n=>{a=a.append(n,t[n])}),this.http.get(this.leaveRequestNotesUrl,{params:a})}createLeaveRequestNotes(t,a){let n=new w.LE;return a&&Object.keys(a).forEach(r=>{n=n.append(r,a[r])}),this.http.post(this.newLeaveRequestNotesUrl,t,{params:n,headers:{"Content-Type":"application/json"}})}deleteLeaveRequestNote(t){return this.http.delete(`${this.deleteLeaveRequestNoteUrl}/${t}`)}createLeaveRequest(t,a){let n=new w.LE;return a&&Object.keys(a).forEach(r=>{n=n.append(r,a[r])}),this.http.post(this.createLeaveRequestUrl,t,{params:n,headers:{"Content-Type":"application/json"}})}getLeaveRequestById(t){return this.http.get(`${this.getLeaveRequestUrl}${t}`)}updateLeaveRequest(t,a,n){const r=`${this.updateLeaveRequestUrl}${t}`;let s=new w.LE;n&&Object.keys(n).forEach(m=>{s=s.append(m,n[m])});const c=new FormData;return Object.keys(a).forEach(m=>{const h=a[m];null!=h&&(Array.isArray(h)?h.forEach((R,k)=>{c.append(`${m}[${k}]`,R.toString())}):c.append(m,h.toString()))}),this.http.post(r,c,{params:s})}deleteLeaveRequest(t){return this.http.delete(`${this.deleteLeaveRequestUrl}/${t}`)}static#e=this.\u0275fac=function(a){return new(a||i)(e.LFG(w.eN))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const kt=function(i,o){return[i,o]};function St(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",25)(10,"a",26),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.viewRequest(r))}),e._UZ(11,"i",27),e._uU(12," \u0639\u0631\u0636"),e.qZA(),e.TgZ(13,"a",28),e.ALo(14,"localize"),e._UZ(15,"i",29),e._uU(16," \u062a\u0639\u062f\u064a\u0644 "),e.qZA(),e.TgZ(17,"button",30),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteRequest(r.id,r.employee.first_name+" "+r.leave_reason))}),e._UZ(18,"i",31),e._uU(19," \u062d\u0630\u0641 "),e.qZA()()()}if(2&i){const t=o.$implicit,a=o.index;e.xp6(2),e.Oqu(a+1),e.xp6(2),e.AsE(" ",t.employee.first_name," ",t.employee.last_name," "),e.xp6(2),e.Oqu(t.leave_reason),e.xp6(2),e.Oqu(t.status),e.xp6(5),e.Q6J("routerLink",e.WLB(8,kt,e.lcZ(14,6,"/dashboard/employees/add-leave-req"),t.id))}}function qt(i,o){1&i&&(e.TgZ(0,"tr")(1,"td",32),e._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),e.qZA()())}let Nt=(()=>{class i{constructor(t,a,n,r,s,c){this.employeeService=t,this.empLeaveRequestService=a,this.localize=n,this.router=r,this.activatedRoute=s,this.dialog=c,this.searchQuery="",this.leaveRequests=[],this.leaveRequestNotes=[],this.loading=!1,console.log("leave reques tworking")}ngOnInit(){this.getListLeaveRequests()}getListLeaveRequests(t=1){this.loading=!0,this.empLeaveRequestService.getAllLeaveRequests().subscribe({next:a=>{this.leaveRequests=a.data,this.currentPage=a.current_page,this.totalPages=a.last_page,this.loading=!1,this.getListLeaveRequestNotes()},error:a=>{this.loading=!1,console.error("There was an error!",a)}})}getListLeaveRequestNotes(t=1){this.loading=!0,this.empLeaveRequestService.getAllLeaveRequestNotes().subscribe({next:a=>{console.log(a.data);const n=a.data;this.leaveRequestNotes=this.leaveRequests.map(r=>({requestId:r.id,notes:n&&n.length>0?n.filter(s=>s.employeeLeaveRequest.id===r.id):[]})),console.log(this.leaveRequestNotes),this.currentPage=a.current_page,this.totalPages=a.last_page,this.loading=!1},error:a=>{this.loading=!1,console.error("There was an error!",a)}})}navigateToAddRequest(){const t=this.localize.translateRoute("/dashboard/employees/add-leave-req");this.router.navigate([t])}deleteRequest(t,a){this.dialog.open(E.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${a} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(r=>{r&&this.empLeaveRequestService.deleteLeaveRequest(t.toString()).subscribe({next:s=>{this.getListLeaveRequests()},error:s=>{console.error("There was an error deleting the admin!",s)}})})}viewRequest(t){if(t){const a=this.localize.translateRoute("/dashboard/employees/show-leave-req");this.router.navigate([a,t.id])}else console.error("No employee to view")}onPageChange(t){this.getListLeaveRequests(t)}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(C.M),e.Y36(oe),e.Y36(_.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(F.uw))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-leave-requests"]],standalone:!0,features:[e.jDz],decls:45,vars:4,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-12"],[1,"row","list-row"],[1,"card","rounded-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-xl-3","col-lg-3","addNew","mb-2"],[1,"btn","w-100","py-3","rounded-4",3,"click"],[1,"fa-solid","fa-circle-plus","me-2"],[1,"col-xl-7","col-lg-6","col-sm-8","searchINP","mb-2"],["type","search","placeholder","\u0627\u0644\u0628\u062d\u062b",1,"form-control","form-control-lg","rounded-3"],[1,"col-xl-2","col-lg-3","col-sm-4","text-center","filterBTN","mb-2"],[1,"btn","px-sm-4","px-5"],[1,"fa-solid","fa-sliders"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[1,"col-md-12"],[3,"currentPage","totalPages","pageChange"],[1,"action"],[1,"btn","get","mx-2",3,"click"],[1,"fa-solid","fa-eye"],[1,"btn","edit","mx-2",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete","bg-danger","mx-2",3,"click"],[1,"fa-regular","fa-trash-can"],["colspan","6",1,"text-center"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA()(),e.TgZ(9,"div",5)(10,"div",4)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"a",10),e.NdJ("click",function(){return n.navigateToAddRequest()}),e._UZ(16,"i",11),e._uU(17," \u0625\u0636\u0627\u0641\u0629 \u0625\u0630\u0646 "),e.qZA()(),e.TgZ(18,"div",12),e._UZ(19,"input",13),e.qZA(),e.TgZ(20,"div",14)(21,"button",15),e._UZ(22,"i",16),e._uU(23," \u062a\u0635\u0646\u064a\u0641 "),e.qZA()()()(),e.TgZ(24,"div",17)(25,"div",18)(26,"table",19)(27,"thead")(28,"tr")(29,"th"),e._uU(30,"\u062a\u0631\u0642\u064a\u0645"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"\u0633\u0628\u0628 \u0627\u0644\u0625\u0630\u0646"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"\u0627\u0644\u062d\u0627\u0644\u0629"),e.qZA(),e._UZ(37,"th"),e.qZA()(),e.TgZ(38,"tbody"),e.YNc(39,St,20,11,"tr",20),e.YNc(40,qt,3,0,"tr",21),e.qZA()()()(),e.TgZ(41,"div",7)(42,"div",22)(43,"div",23)(44,"pagination",24),e.NdJ("pageChange",function(s){return n.onPageChange(s)}),e.qZA()()()()()()()()),2&a&&(e.xp6(39),e.Q6J("ngForOf",n.leaveRequests),e.xp6(1),e.Q6J("ngIf",0===n.leaveRequests.length&&!n.loading),e.xp6(4),e.Q6J("currentPage",n.currentPage)("totalPages",n.totalPages))},dependencies:[d.ez,d.sg,d.O5,u.Bz,u.rH,_.fQ,_.lO,x.Q,l.u5,I.L]})}return i})();p(6825);var Pt=p(7131),A=p(3680);let q=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[A.BQ,d.ez,Pt.Q8,A.BQ]})}return i})();p(2831);let jt=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({})}return i})(),O=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[A.BQ,q,q,jt,A.BQ]})}return i})();var Jt=p(4300),ee=p(9594),Ht=p(8484),P=p(2296),ge=p(7888),le=p(8645);p(7394),p(6028),p(2495);let Wt=(()=>{class i{constructor(){this.changes=new le.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,a){return`${t} \u2013 ${a}`}formatYearRangeLabel(t,a){return`${t} to ${a}`}static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const si={provide:new e.OlP("mat-datepicker-scroll-strategy"),deps:[ee.aV],useFactory:function li(i){return()=>i.scrollStrategies.reposition()}};let Y=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({providers:[Wt,si],imports:[d.ez,P.ot,ee.U8,Jt.rt,Ht.eL,A.BQ,ge.ZD]})}return i})();p(2096),p(8504);var Ae=p(9315);p(9397),p(7398),p(6306),p(4716),p(3020),p(6593);let V=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[A.BQ,A.BQ]})}return i})();const Fi={provide:new e.OlP("mat-menu-scroll-strategy"),deps:[ee.aV],useFactory:function wi(i){return()=>i.scrollStrategies.reposition()}};let B=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({providers:[Fi],imports:[d.ez,A.si,A.BQ,ee.U8,ge.ZD,A.BQ]})}return i})();function Di(i,o){1&i&&(e.TgZ(0,"h5"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0625\u062c\u0627\u0632\u0629"),e.qZA())}function Ti(i,o){1&i&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0625\u062c\u0627\u0632\u0629"),e.qZA())}function Ei(i,o){1&i&&(e.TgZ(0,"div",33),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Zi(i,o){if(1&i&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.from_date.errors?null:t.leaveRequestForm.controls.from_date.errors.serverError[0]," ")}}function Ri(i,o){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,Ei,2,0,"div",18),e.YNc(2,Zi,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.from_date.errors?null:t.leaveRequestForm.controls.from_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.from_date.errors?null:t.leaveRequestForm.controls.from_date.errors.serverError)}}function ki(i,o){1&i&&(e.TgZ(0,"div",33),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Si(i,o){if(1&i&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.to_date.errors?null:t.leaveRequestForm.controls.to_date.errors.serverError[0]," ")}}function qi(i,o){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,ki,2,0,"div",18),e.YNc(2,Si,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.to_date.errors?null:t.leaveRequestForm.controls.to_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.to_date.errors?null:t.leaveRequestForm.controls.to_date.errors.serverError)}}function Ni(i,o){1&i&&(e.TgZ(0,"div",33),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Pi(i,o){if(1&i&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.leave_reason.errors?null:t.leaveRequestForm.controls.leave_reason.errors.serverError[0]," ")}}function Li(i,o){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,Ni,2,0,"div",18),e.YNc(2,Pi,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.leave_reason.errors?null:t.leaveRequestForm.controls.leave_reason.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.leave_reason.errors?null:t.leaveRequestForm.controls.leave_reason.errors.serverError)}}function Oi(i,o){1&i&&(e.TgZ(0,"div",33),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Ui(i,o){if(1&i&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.leave_setting_id.errors?null:t.leaveRequestForm.controls.leave_setting_id.errors.serverError[0]," ")}}function Yi(i,o){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,Oi,2,0,"div",18),e.YNc(2,Ui,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.leave_setting_id.errors?null:t.leaveRequestForm.controls.leave_setting_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.leave_setting_id.errors?null:t.leaveRequestForm.controls.leave_setting_id.errors.serverError)}}function Vi(i,o){if(1&i&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.first_name,"",t.last_name," ")}}function Bi(i,o){1&i&&(e.TgZ(0,"div",33),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Qi(i,o){if(1&i&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.employee_id.errors?null:t.leaveRequestForm.controls.employee_id.errors.serverError[0]," ")}}function ji(i,o){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,Bi,2,0,"div",18),e.YNc(2,Qi,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.employee_id.errors?null:t.leaveRequestForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.employee_id.errors?null:t.leaveRequestForm.controls.employee_id.errors.serverError)}}function zi(i,o){if(1&i&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Ji(i,o){1&i&&(e.TgZ(0,"div",33),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Hi(i,o){if(1&i&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.status.errors?null:t.leaveRequestForm.controls.status.errors.serverError[0]," ")}}function $i(i,o){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,Ji,2,0,"div",18),e.YNc(2,Hi,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.status.errors?null:t.leaveRequestForm.controls.status.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.status.errors?null:t.leaveRequestForm.controls.status.errors.serverError)}}function Gi(i,o){1&i&&(e.ynx(0),e.TgZ(1,"div",35)(2,"button",36),e._UZ(3,"i",37),e._uU(4," \u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0627\u0644\u0625\u062c\u0627\u0632\u0629 "),e.qZA()(),e.BQk())}function Ki(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",35)(1,"button",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateLeaveRequest())}),e._uU(2," \u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0627\u0644\u0625\u062c\u0627\u0632\u0629 "),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.leaveRequestForm.valid)}}function Wi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"li",43)(1,"div",44),e._uU(2),e.qZA(),e.TgZ(3,"button",45),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.deleteNote(r))}),e._UZ(4,"i",46),e.qZA()()}if(2&i){const t=o.$implicit;e.xp6(2),e.hij(" ",t.notes," ")}}function Xi(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0645\u0644\u062d\u0648\u0638\u0629"),e.qZA())}function ea(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"\u0625\u0627\u0644\u063a\u0627\u0621"),e.qZA())}function ta(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",35)(1,"label",47),e._uU(2,"\u0645\u0644\u062d\u0648\u0638\u0629"),e.qZA(),e._UZ(3,"input",48),e.TgZ(4,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.saveNote())}),e._UZ(5,"i",50),e._uU(6,"\u062d\u0641\u0638 \u0627\u0644\u0645\u0644\u062d\u0648\u0638\u0629 "),e.qZA()()}}function ia(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",9)(1,"h2",39),e._uU(2,"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a"),e.qZA(),e.TgZ(3,"div",2)(4,"ul",40),e.YNc(5,Wi,5,1,"li",41),e.qZA()(),e.TgZ(6,"div",35)(7,"button",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNote())}),e._UZ(8,"i",37),e.YNc(9,Xi,2,0,"span",12),e.YNc(10,ea,2,0,"span",12),e.qZA()(),e.YNc(11,ta,7,0,"div",42),e.qZA()}if(2&i){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.leaveRequestNotes),e.xp6(2),e.Q6J("disabled",!t.leaveRequestForm.valid),e.xp6(2),e.Q6J("ngIf",!t.showNoteInput),e.xp6(1),e.Q6J("ngIf",t.showNoteInput),e.xp6(1),e.Q6J("ngIf",t.showNoteInput)}}const aa=function(i){return[i]};let Te=(()=>{class i{constructor(t,a,n,r,s,c,m,h){this.localize=t,this.router=a,this.activatedRoute=n,this._MessagesService=r,this.employeesService=s,this.leaveReqService=c,this.dashboardService=m,this.dialog=h,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.leaveRequestId="",this.employees=[],this.showNoteInput=!1,this.noteText="",this.roles=[{id:"Super_Admin",name:"Super Admin"},{id:"Admin",name:"Admin"},{id:"user",name:"user"}],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.leaveRequestForm=new l.cw({from_date:new l.NI("",l.kI.required),to_date:new l.NI("",l.kI.required),days:new l.NI([],l.kI.required),leave_reason:new l.NI("",l.kI.required),leave_setting_id:new l.NI("",l.kI.required),employee_id:new l.NI("",l.kI.required),status:new l.NI("Pending",l.kI.required),noteText:new l.NI("")}),this.leaveRequestNotes=[]}ngOnInit(){this.getEmployees(),this.activatedRoute.paramMap.subscribe(t=>{const a=t.get("id");a&&(this.leaveRequestId=a,this.isEditMode=!0,this.leaveReqService.getLeaveRequestById(a).subscribe(n=>{n&&n.data&&(this.getListLeaveRequestNotes(),this.setFormValues(n.data))}))}),this.leaveRequestForm.get("from_date")?.valueChanges.subscribe(()=>{this.updateDaysArray()}),this.leaveRequestForm.get("to_date")?.valueChanges.subscribe(()=>{this.updateDaysArray()})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:t=>{t&&t.data&&(this.employees=t.data)},error:t=>{console.error(t)}})}getCountries(){this.dashboardService.getCountries().subscribe({next:t=>{t&&t.data&&(this.countries=t.data)},error:t=>{console.error(t)}})}getDepartments(){this.dashboardService.getDepartments().subscribe({next:t=>{t&&t.data&&(this.departments=t.data)},error:t=>{console.error(t)}})}onCountryChange(t){this.dashboardService.getCityByCountry(t.target.value).subscribe({next:r=>{r&&r.data&&r.data.cities&&(this.cities=r.data.cities)},error:r=>{console.error(r)}})}getListLeaveRequestNotes(t=1){this.leaveReqService.getAllLeaveRequestNotes().subscribe({next:a=>{console.log(a.data);const n=a.data.filter(r=>r.employeeLeaveRequest&&r.employeeLeaveRequest.id==this.leaveRequestId);this.leaveRequestNotes=n,console.log(this.leaveRequestNotes)},error:a=>{console.error("There was an error!",a)}})}setFormValues(t){if(t.days&&t.days.length>0){if(t.days&&t.days.length>0){const a=new Date(t.days[0]),n=new Date(t.days[t.days.length-1]),r=s=>`${s.getFullYear()}-${("0"+(s.getMonth()+1)).slice(-2)}-${("0"+s.getDate()).slice(-2)}`;this.leaveRequestForm.get("from_date")?.setValue(r(a)),this.leaveRequestForm.get("to_date")?.setValue(r(n))}console.log(this.leaveRequestForm.value)}this.leaveRequestForm.patchValue({days:t.days,leave_reason:t.leave_reason,leave_setting_id:t.leave_setting_id,employee_id:t.employee.id,status:t.status})}addNote(){this.showNoteInput=!this.showNoteInput}deleteNote(t){console.log(t),this.dialog.open(E.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:"\u061f \u0627\u0644\u0645\u0644\u062d\u0648\u0638\u0629 \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  "}}).afterClosed().subscribe(r=>{r&&this.leaveReqService.deleteLeaveRequestNote(t.id.toString()).subscribe({next:s=>{this.getListLeaveRequestNotes()},error:s=>{console.error("There was an error deleting the admin!",s)}})})}saveNote(){this.leaveRequestForm.valid&&(console.log(this.leaveRequestForm.value),this.leaveReqService.createLeaveRequestNotes({employee_leave_request_id:this.leaveRequestId,employee_id:this.leaveRequestForm.controls.employee_id.value,parent_id:this.leaveRequestId,notes:this.leaveRequestForm.controls.noteText.value}).subscribe({next:a=>{this._MessagesService.showSuccessMessage("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0644\u062d\u0648\u0638\u0629",3e3),this.showNoteInput=!1,this.noteText="",this.getListLeaveRequestNotes()},error:a=>{console.error("Failed to add note:",a),this._MessagesService.showErrorMessage(a,"\u0641\u0634\u0644 \u0641\u064a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0644\u062d\u0648\u0638\u0629",3e3)}}))}updateLeaveRequest(){if(this.leaveRequestForm.valid){const t={...this.leaveRequestForm.value,days:this.generateDaysArray(new Date(this.leaveRequestForm.value.from_date),new Date(this.leaveRequestForm.value.to_date)),_method:"PATCH"};delete t.noteText,this.leaveReqService.updateLeaveRequest(this.leaveRequestId,t).subscribe({next:a=>{this.navigateToLeaveRequestsList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",3e3)},error:a=>{a.error&&a.error.errors?this.handleValidationErrors(a.error.errors):console.error("Failed to update leave request:",a)}})}else this.leaveRequestForm.markAllAsTouched()}onSubmit(){if(this.updateDaysArray(),this.leaveRequestForm.valid){const t=new Date(this.leaveRequestForm.value.from_date),a=new Date(this.leaveRequestForm.value.to_date),n=this.generateDaysArray(t,a),r={...this.leaveRequestForm.value,days:n};delete r.noteText,this.leaveReqService.createLeaveRequest(r).subscribe({next:s=>{this.navigateToLeaveRequestsList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:s=>{s.error&&s.error.errors?this.handleValidationErrors(s.error.errors):(this.errorMessage="Failed to add leave request. Please try again.",console.error("Failed to add leave request:",s))}})}else this.leaveRequestForm.markAllAsTouched()}updateDaysArray(){const t=new Date(this.leaveRequestForm.value.from_date),a=new Date(this.leaveRequestForm.value.to_date);if(t&&a&&t<=a){const n=this.generateDaysArray(t,a);this.leaveRequestForm.get("days")?.setValue(n)}else this.leaveRequestForm.get("days")?.setValue([])}generateDaysArray(t,a){const n=[],r=new Date(t);for(;r<=a;)n.push(("00"+r.getDate()).slice(-2)+"-"+("00"+(r.getMonth()+1)).slice(-2)+"-"+r.getFullYear()),r.setDate(r.getDate()+1);return n}handleValidationErrors(t){for(const a in t)if(t.hasOwnProperty(a)){const n=this.leaveRequestForm.get(a);n&&n.setErrors({serverError:t[a]})}}navigateToLeaveRequestsList(){const t=this.localize.translateRoute("/dashboard/employees/leave-requests");this.router.navigate([t])}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(_.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(f.K),e.Y36(C.M),e.Y36(oe),e.Y36(D.K),e.Y36(F.uw))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-create-leave-request"]],standalone:!0,features:[e.jDz],decls:58,vars:19,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","from_date",1,"form-label"],["formControlName","from_date","type","date","name","from_date","id","from_date",1,"form-control","form-control-lg"],["class","ms-error",4,"ngIf"],["for","to_date",1,"form-label"],["formControlName","to_date","type","date","name","to_date","id","to_date",1,"form-control","form-control-lg"],["for","leave_reason",1,"form-label"],["formControlName","leave_reason","type","text","name","leave_reason","id","leave_reason",1,"form-control","form-control-lg"],["for","leave_setting_id",1,"form-label"],["formControlName","leave_setting_id","type","text","name","leave_setting_id","id","leave_setting_id",1,"form-control","form-control-lg"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id",1,"form-select","form-select-lg"],[3,"value",4,"ngFor","ngForOf"],["for","status",1,"form-label"],["name","status","id","status","formControlName","status",1,"form-select","form-select-lg"],[4,"ngIf","ngIfElse"],["editButton",""],["class","col-12",4,"ngIf"],[1,"ms-error"],[3,"value"],[1,"form-group","col-md-12","mb-3"],["type","submit",1,"btn","px-5","py-3"],[1,"fa-solid","fa-circle-plus","me-2"],["type","button",1,"btn","px-5","py-3",3,"disabled","click"],[1,"text-center"],[1,"list-group","list-group-numbered"],["class","list-group-item list-group-item-primary d-flex",4,"ngFor","ngForOf"],["class","form-group col-md-12 mb-3",4,"ngIf"],[1,"list-group-item","list-group-item-primary","d-flex"],[1,"ms-2","me-auto"],[1,"btn","btn-link","p-0",3,"click"],[1,"fa-regular","fa-trash-can","text-danger"],["for","note",1,"form-label"],["formControlName","noteText","type","text","name","note","id","note",1,"form-control","form-control-lg"],["type","button",1,"btn","px-5","py-3","mt-2",3,"click"],[1,"fa-solid","fa-save","me-2"]],template:function(a,n){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0625\u062c\u0627\u0632\u0629"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,Di,2,0,"h5",12),e.YNc(19,Ti,2,0,"h5",12),e.TgZ(20,"form",13),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"\u0645\u0646 \u062a\u0627\u0631\u064a\u062e"),e.qZA(),e._UZ(25,"input",17),e.YNc(26,Ri,3,2,"div",18),e.qZA(),e.TgZ(27,"div",15)(28,"label",19),e._uU(29,"\u0625\u0644\u0649 \u062a\u0627\u0631\u064a\u062e"),e.qZA(),e._UZ(30,"input",20),e.YNc(31,qi,3,2,"div",18),e.qZA(),e.TgZ(32,"div",15)(33,"label",21),e._uU(34,"\u0633\u0628\u0628 \u0627\u0644\u0625\u062c\u0627\u0632\u0629"),e.qZA(),e._UZ(35,"input",22),e.YNc(36,Li,3,2,"div",18),e.qZA(),e.TgZ(37,"div",15)(38,"label",23),e._uU(39,"\u0625\u0639\u062f\u0627\u062f \u0627\u0644\u0625\u062c\u0627\u0632\u0629"),e.qZA(),e._UZ(40,"input",24),e.YNc(41,Yi,3,2,"div",18),e.qZA(),e.TgZ(42,"div",15)(43,"label",25),e._uU(44,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(45,"select",26),e.YNc(46,Vi,2,3,"option",27),e.qZA(),e.YNc(47,ji,3,2,"div",18),e.qZA(),e.TgZ(48,"div",15)(49,"label",28),e._uU(50,"\u0627\u0644\u062d\u0627\u0644\u0629"),e.qZA(),e.TgZ(51,"select",29),e.YNc(52,zi,2,2,"option",27),e.qZA(),e.YNc(53,$i,3,2,"div",18),e.qZA(),e.YNc(54,Gi,5,0,"ng-container",30),e.YNc(55,Ki,3,1,"ng-template",null,31,e.W1O),e.YNc(57,ia,12,5,"div",32),e.qZA()()()()()()()),2&a){const r=e.MAs(56);e.xp6(10),e.Q6J("routerLink",e.VKq(17,aa,e.lcZ(11,15,"/dashboard/employees/leave-requests"))),e.xp6(8),e.Q6J("ngIf",!n.isEditMode),e.xp6(1),e.Q6J("ngIf",n.isEditMode),e.xp6(1),e.Q6J("formGroup",n.leaveRequestForm),e.xp6(6),e.Q6J("ngIf",n.leaveRequestForm.controls.from_date.invalid&&(n.leaveRequestForm.controls.from_date.dirty||n.leaveRequestForm.controls.from_date.touched)),e.xp6(5),e.Q6J("ngIf",n.leaveRequestForm.controls.to_date.invalid&&(n.leaveRequestForm.controls.to_date.dirty||n.leaveRequestForm.controls.to_date.touched)),e.xp6(5),e.Q6J("ngIf",n.leaveRequestForm.controls.leave_reason.invalid&&(n.leaveRequestForm.controls.leave_reason.dirty||n.leaveRequestForm.controls.leave_reason.touched)),e.xp6(5),e.Q6J("ngIf",n.leaveRequestForm.controls.leave_setting_id.invalid&&(n.leaveRequestForm.controls.leave_setting_id.dirty||n.leaveRequestForm.controls.leave_setting_id.touched)),e.xp6(5),e.Q6J("ngForOf",n.employees),e.xp6(1),e.Q6J("ngIf",n.leaveRequestForm.controls.employee_id.invalid&&(n.leaveRequestForm.controls.employee_id.dirty||n.leaveRequestForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngForOf",n.statusOptions),e.xp6(1),e.Q6J("ngIf",n.leaveRequestForm.controls.status.invalid&&(n.leaveRequestForm.controls.status.dirty||n.leaveRequestForm.controls.status.touched)),e.xp6(1),e.Q6J("ngIf",!n.isEditMode)("ngIfElse",r),e.xp6(3),e.Q6J("ngIf",n.isEditMode)}},dependencies:[d.ez,d.sg,d.O5,I.L,u.rH,_.fQ,_.lO,l.UX,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.sg,l.u,q,O,Y,A.XK,P.ot,V,l.u5,B]})}return i})();function na(i,o){1&i&&(e.TgZ(0,"h5"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0625\u062c\u0627\u0632\u0629"),e.qZA())}function ra(i,o){1&i&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0625\u062c\u0627\u0632\u0629"),e.qZA())}function oa(i,o){1&i&&(e.TgZ(0,"div",30),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function la(i,o){if(1&i&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.from_date.errors?null:t.leaveRequestForm.controls.from_date.errors.serverError[0]," ")}}function sa(i,o){if(1&i&&(e.TgZ(0,"div",30),e.YNc(1,oa,2,0,"div",18),e.YNc(2,la,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.from_date.errors?null:t.leaveRequestForm.controls.from_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.from_date.errors?null:t.leaveRequestForm.controls.from_date.errors.serverError)}}function da(i,o){1&i&&(e.TgZ(0,"div",30),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function ca(i,o){if(1&i&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.to_date.errors?null:t.leaveRequestForm.controls.to_date.errors.serverError[0]," ")}}function ua(i,o){if(1&i&&(e.TgZ(0,"div",30),e.YNc(1,da,2,0,"div",18),e.YNc(2,ca,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.to_date.errors?null:t.leaveRequestForm.controls.to_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.to_date.errors?null:t.leaveRequestForm.controls.to_date.errors.serverError)}}function ma(i,o){1&i&&(e.TgZ(0,"div",30),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function pa(i,o){if(1&i&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.leave_reason.errors?null:t.leaveRequestForm.controls.leave_reason.errors.serverError[0]," ")}}function _a(i,o){if(1&i&&(e.TgZ(0,"div",30),e.YNc(1,ma,2,0,"div",18),e.YNc(2,pa,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.leave_reason.errors?null:t.leaveRequestForm.controls.leave_reason.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.leave_reason.errors?null:t.leaveRequestForm.controls.leave_reason.errors.serverError)}}function fa(i,o){1&i&&(e.TgZ(0,"div",30),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function ha(i,o){if(1&i&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.leave_setting_id.errors?null:t.leaveRequestForm.controls.leave_setting_id.errors.serverError[0]," ")}}function ga(i,o){if(1&i&&(e.TgZ(0,"div",30),e.YNc(1,fa,2,0,"div",18),e.YNc(2,ha,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.leave_setting_id.errors?null:t.leaveRequestForm.controls.leave_setting_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.leave_setting_id.errors?null:t.leaveRequestForm.controls.leave_setting_id.errors.serverError)}}function va(i,o){if(1&i&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.first_name,"",t.last_name," ")}}function xa(i,o){1&i&&(e.TgZ(0,"div",30),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function ba(i,o){if(1&i&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.employee_id.errors?null:t.leaveRequestForm.controls.employee_id.errors.serverError[0]," ")}}function ya(i,o){if(1&i&&(e.TgZ(0,"div",30),e.YNc(1,xa,2,0,"div",18),e.YNc(2,ba,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.employee_id.errors?null:t.leaveRequestForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.employee_id.errors?null:t.leaveRequestForm.controls.employee_id.errors.serverError)}}function Aa(i,o){if(1&i&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Ia(i,o){1&i&&(e.TgZ(0,"div",30),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Ca(i,o){if(1&i&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.leaveRequestForm.controls.status.errors?null:t.leaveRequestForm.controls.status.errors.serverError[0]," ")}}function Ma(i,o){if(1&i&&(e.TgZ(0,"div",30),e.YNc(1,Ia,2,0,"div",18),e.YNc(2,Ca,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.status.errors?null:t.leaveRequestForm.controls.status.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.leaveRequestForm.controls.status.errors?null:t.leaveRequestForm.controls.status.errors.serverError)}}const wa=function(i){return[i]};let Fa=(()=>{class i{constructor(t,a,n,r,s,c,m){this.localize=t,this.router=a,this.activatedRoute=n,this._MessagesService=r,this.employeesService=s,this.leaveReqService=c,this.dashboardService=m,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.leaveRequestId="",this.employees=[],this.roles=[{id:"Super_Admin",name:"Super Admin"},{id:"Admin",name:"Admin"},{id:"user",name:"user"}],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.leaveRequestForm=new l.cw({from_date:new l.NI("",l.kI.required),to_date:new l.NI("",l.kI.required),days:new l.NI([],l.kI.required),leave_reason:new l.NI("",l.kI.required),leave_setting_id:new l.NI("",l.kI.required),employee_id:new l.NI("",l.kI.required),status:new l.NI("Pending",l.kI.required)}),this.loading=!1,this.leaveRequestNotes=[]}ngOnInit(){this.getEmployees(),this.activatedRoute.paramMap.subscribe(t=>{const a=t.get("id");a&&(this.leaveRequestId=a,this.isEditMode=!0,this.leaveReqService.getLeaveRequestById(a).subscribe(n=>{n&&n.data&&(this.getListLeaveRequestNotes(),this.setFormValues(n.data))}))}),this.leaveRequestForm.get("from_date")?.valueChanges.subscribe(()=>{this.updateDaysArray()}),this.leaveRequestForm.get("to_date")?.valueChanges.subscribe(()=>{this.updateDaysArray()})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:t=>{t&&t.data&&(this.employees=t.data)},error:t=>{console.error(t)}})}getCountries(){this.dashboardService.getCountries().subscribe({next:t=>{t&&t.data&&(this.countries=t.data)},error:t=>{console.error(t)}})}getDepartments(){this.dashboardService.getDepartments().subscribe({next:t=>{t&&t.data&&(this.departments=t.data)},error:t=>{console.error(t)}})}getListLeaveRequestNotes(t=1){this.loading=!0,this.leaveReqService.getAllLeaveRequestNotes().subscribe({next:a=>{console.log(a.data);const n=a.data.filter(r=>r.employeeLeaveRequest.id==this.leaveRequestId);this.leaveRequestNotes=n,console.log(this.leaveRequestNotes),this.loading=!1},error:a=>{this.loading=!1,console.error("There was an error!",a)}})}onCountryChange(t){this.dashboardService.getCityByCountry(t.target.value).subscribe({next:r=>{r&&r.data&&r.data.cities&&(this.cities=r.data.cities)},error:r=>{console.error(r)}})}setFormValues(t){if(t.days&&t.days.length>0){if(t.days&&t.days.length>0){const a=new Date(t.days[0]),n=new Date(t.days[t.days.length-1]),r=s=>`${s.getFullYear()}-${("0"+(s.getMonth()+1)).slice(-2)}-${("0"+s.getDate()).slice(-2)}`;this.leaveRequestForm.get("from_date")?.setValue(r(a)),this.leaveRequestForm.get("to_date")?.setValue(r(n))}console.log(this.leaveRequestForm.value)}this.leaveRequestForm.patchValue({days:t.days,leave_reason:t.leave_reason,leave_setting_id:t.leave_setting_id,employee_id:t.employee.id,status:t.status})}updateDaysArray(){const t=new Date(this.leaveRequestForm.value.from_date),a=new Date(this.leaveRequestForm.value.to_date);if(t&&a&&t<=a){const n=this.generateDaysArray(t,a);this.leaveRequestForm.get("days")?.setValue(n)}else this.leaveRequestForm.get("days")?.setValue([])}generateDaysArray(t,a){const n=[],r=new Date(t);for(;r<=a;)n.push(("00"+r.getDate()).slice(-2)+"-"+("00"+(r.getMonth()+1)).slice(-2)+"-"+r.getFullYear()),r.setDate(r.getDate()+1);return n}handleValidationErrors(t){for(const a in t)if(t.hasOwnProperty(a)){const n=this.leaveRequestForm.get(a);n&&n.setErrors({serverError:t[a]})}}navigateToLeaveRequestsList(){const t=this.localize.translateRoute("/dashboard/employees/leave-requests");this.router.navigate([t])}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(_.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(f.K),e.Y36(C.M),e.Y36(oe),e.Y36(D.K))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-leave-request"]],standalone:!0,features:[e.jDz],decls:54,vars:16,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","from_date",1,"form-label"],["formControlName","from_date","type","date","name","from_date","id","from_date","readonly","",1,"form-control","form-control-lg"],["class","ms-error",4,"ngIf"],["for","to_date",1,"form-label"],["formControlName","to_date","type","date","name","to_date","id","to_date","readonly","",1,"form-control","form-control-lg"],["for","leave_reason",1,"form-label"],["formControlName","leave_reason","type","text","name","leave_reason","id","leave_reason","readonly","",1,"form-control","form-control-lg"],["for","leave_setting_id",1,"form-label"],["formControlName","leave_setting_id","type","text","name","leave_setting_id","id","leave_setting_id","readonly","",1,"form-control","form-control-lg"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id","readonly","",1,"form-select","form-select-lg","readonly-select"],[3,"value",4,"ngFor","ngForOf"],["for","status",1,"form-label"],["name","status","id","status","formControlName","status",1,"form-select","form-select-lg","readonly-select"],[1,"ms-error"],[3,"value"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0625\u062c\u0627\u0632\u0629"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,na,2,0,"h5",12),e.YNc(19,ra,2,0,"h5",12),e.TgZ(20,"form",13)(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"\u0645\u0646 \u062a\u0627\u0631\u064a\u062e"),e.qZA(),e._UZ(25,"input",17),e.YNc(26,sa,3,2,"div",18),e.qZA(),e.TgZ(27,"div",15)(28,"label",19),e._uU(29,"\u0625\u0644\u0649 \u062a\u0627\u0631\u064a\u062e"),e.qZA(),e._UZ(30,"input",20),e.YNc(31,ua,3,2,"div",18),e.qZA(),e.TgZ(32,"div",15)(33,"label",21),e._uU(34,"\u0633\u0628\u0628 \u0627\u0644\u0625\u062c\u0627\u0632\u0629"),e.qZA(),e._UZ(35,"input",22),e.YNc(36,_a,3,2,"div",18),e.qZA(),e.TgZ(37,"div",15)(38,"label",23),e._uU(39,"\u0625\u0639\u062f\u0627\u062f \u0627\u0644\u0625\u062c\u0627\u0632\u0629"),e.qZA(),e._UZ(40,"input",24),e.YNc(41,ga,3,2,"div",18),e.qZA(),e.TgZ(42,"div",15)(43,"label",25),e._uU(44,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(45,"select",26),e.YNc(46,va,2,3,"option",27),e.qZA(),e.YNc(47,ya,3,2,"div",18),e.qZA(),e.TgZ(48,"div",15)(49,"label",28),e._uU(50,"\u0627\u0644\u062d\u0627\u0644\u0629"),e.qZA(),e.TgZ(51,"select",29),e.YNc(52,Aa,2,2,"option",27),e.qZA(),e.YNc(53,Ma,3,2,"div",18),e.qZA()()()()()()()()),2&a&&(e.xp6(10),e.Q6J("routerLink",e.VKq(14,wa,e.lcZ(11,12,"/dashboard/employees/leave-requests"))),e.xp6(8),e.Q6J("ngIf",!n.isEditMode),e.xp6(1),e.Q6J("ngIf",n.isEditMode),e.xp6(1),e.Q6J("formGroup",n.leaveRequestForm),e.xp6(6),e.Q6J("ngIf",n.leaveRequestForm.controls.from_date.invalid&&(n.leaveRequestForm.controls.from_date.dirty||n.leaveRequestForm.controls.from_date.touched)),e.xp6(5),e.Q6J("ngIf",n.leaveRequestForm.controls.to_date.invalid&&(n.leaveRequestForm.controls.to_date.dirty||n.leaveRequestForm.controls.to_date.touched)),e.xp6(5),e.Q6J("ngIf",n.leaveRequestForm.controls.leave_reason.invalid&&(n.leaveRequestForm.controls.leave_reason.dirty||n.leaveRequestForm.controls.leave_reason.touched)),e.xp6(5),e.Q6J("ngIf",n.leaveRequestForm.controls.leave_setting_id.invalid&&(n.leaveRequestForm.controls.leave_setting_id.dirty||n.leaveRequestForm.controls.leave_setting_id.touched)),e.xp6(5),e.Q6J("ngForOf",n.employees),e.xp6(1),e.Q6J("ngIf",n.leaveRequestForm.controls.employee_id.invalid&&(n.leaveRequestForm.controls.employee_id.dirty||n.leaveRequestForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngForOf",n.statusOptions),e.xp6(1),e.Q6J("ngIf",n.leaveRequestForm.controls.status.invalid&&(n.leaveRequestForm.controls.status.dirty||n.leaveRequestForm.controls.status.touched)))},dependencies:[d.ez,d.sg,d.O5,I.L,u.rH,_.fQ,_.lO,l.UX,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.sg,l.u,q,O,Y,A.XK,P.ot,V,B],styles:[".readonly-select[_ngcontent-%COMP%]{background-color:#fff;pointer-events:none;opacity:1;appearance:none}"]})}return i})(),K=(()=>{class i{constructor(t){this.http=t,this.medicalInsurancesListUrl=`${M.N.url}employee/medical/insurances`,this.createMedicalInsuranceUrl=`${M.N.url}employee/medical/insurances`,this.updateMedicalInsuranceUrl=`${M.N.url}employee/medical/insurances/`,this.deleteMedicalInsuranceUrl=`${M.N.url}employee/medical/insurances`,this.getMedicalInsuranceUrl=`${M.N.url}employee/medical/insurances/`}getAllMedicalInsurances(t){let a=new w.LE;return t&&Object.keys(t).forEach(n=>{a=a.append(n,t[n])}),this.http.get(this.medicalInsurancesListUrl,{params:a})}createMedicalInsurance(t,a){let n=new w.LE;return a&&Object.keys(a).forEach(r=>{n=n.append(r,a[r])}),this.http.post(this.createMedicalInsuranceUrl,t,{params:n,headers:{"Content-Type":"application/json"}})}getMedicalInsuranceById(t){return this.http.get(`${this.getMedicalInsuranceUrl}${t}`)}updateMedicalInsurance(t,a,n){const r=`${this.updateMedicalInsuranceUrl}${t}`;let s=new w.LE;n&&Object.keys(n).forEach(m=>{s=s.append(m,n[m])});const c=new FormData;return Object.keys(a).forEach(m=>{const h=a[m];null!=h&&c.append(m,h.toString())}),this.http.post(r,c,{params:s})}deleteMedicalInsurance(t){return this.http.delete(`${this.deleteMedicalInsuranceUrl}/${t}`)}static#e=this.\u0275fac=function(a){return new(a||i)(e.LFG(w.eN))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Da=function(i,o){return[i,o]};function Ta(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",25)(10,"a",26),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw();return e.KtG(r.viewInsurance(n))}),e._UZ(11,"i",27),e._uU(12," \u0639\u0631\u0636"),e.qZA(),e.TgZ(13,"a",28),e.ALo(14,"localize"),e._UZ(15,"i",29),e._uU(16," \u062a\u0639\u062f\u064a\u0644 "),e.qZA(),e.TgZ(17,"button",30),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw();return e.KtG(r.deleteInsurance(n.id,n.employee.first_name+" "+n.employee.last_name))}),e._UZ(18,"i",31),e._uU(19," \u062d\u0630\u0641 "),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw(),a=t.index,n=t.$implicit;e.xp6(2),e.Oqu(a+1),e.xp6(2),e.AsE(" ",n.employee.first_name," ",n.employee.last_name," "),e.xp6(2),e.Oqu(n.start_date),e.xp6(2),e.Oqu(n.end_date),e.xp6(5),e.Q6J("routerLink",e.WLB(8,Da,e.lcZ(14,6,"/dashboard/employees/create-medical-record"),n.id))}}function Ea(i,o){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,Ta,20,11,"ng-container",21),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.employee)}}function Za(i,o){1&i&&(e.TgZ(0,"tr")(1,"td",32),e._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),e.qZA()())}let Ra=(()=>{class i{constructor(t,a,n,r,s,c){this.employeeService=t,this.empMedicalInsurancesService=a,this.localize=n,this.router=r,this.activatedRoute=s,this.dialog=c,this.searchQuery="",this.medicalInsurances=[],this.loading=!1,console.log("medical insurance working")}ngOnInit(){this.getListMedicalInsurances()}getListMedicalInsurances(t=1){this.loading=!0,this.empMedicalInsurancesService.getAllMedicalInsurances().subscribe({next:a=>{console.log(a.data),this.medicalInsurances=a.data,this.currentPage=a.current_page,this.totalPages=a.last_page,this.loading=!1},error:a=>{this.loading=!1,console.error("There was an error!",a)}})}navigateToAddInsurance(){const t=this.localize.translateRoute("/dashboard/employees/create-medical-record");this.router.navigate([t])}deleteInsurance(t,a){this.dialog.open(E.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${a} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(r=>{r&&this.empMedicalInsurancesService.deleteMedicalInsurance(t.toString()).subscribe({next:s=>{this.getListMedicalInsurances()},error:s=>{console.error("There was an error deleting the insurance!",s)}})})}viewInsurance(t){if(t){const a=this.localize.translateRoute("/dashboard/employees/view-medical-record");this.router.navigate([a,t.id])}else console.error("No insurance to view")}onPageChange(t){this.getListMedicalInsurances(t)}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(C.M),e.Y36(K),e.Y36(_.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(F.uw))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-medical-insurance-list"]],standalone:!0,features:[e.jDz],decls:45,vars:4,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-12"],[1,"row","list-row"],[1,"card","rounded-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-xl-3","col-lg-3","addNew","mb-2"],[1,"btn","w-100","py-3","rounded-4",3,"click"],[1,"fa-solid","fa-circle-plus","me-2"],[1,"col-xl-7","col-lg-6","col-sm-8","searchINP","mb-2"],["type","search","placeholder","\u0627\u0644\u0628\u062d\u062b",1,"form-control","form-control-lg","rounded-3"],[1,"col-xl-2","col-lg-3","col-sm-4","text-center","filterBTN","mb-2"],[1,"btn","px-sm-4","px-5"],[1,"fa-solid","fa-sliders"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[1,"col-md-12"],[3,"currentPage","totalPages","pageChange"],[1,"action"],[1,"btn","get","mx-2",3,"click"],[1,"fa-solid","fa-eye"],[1,"btn","edit","mx-2",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete","bg-danger","mx-2",3,"click"],[1,"fa-regular","fa-trash-can"],["colspan","6",1,"text-center"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA()(),e.TgZ(9,"div",5)(10,"div",4)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"a",10),e.NdJ("click",function(){return n.navigateToAddInsurance()}),e._UZ(16,"i",11),e._uU(17," \u0625\u0636\u0627\u0641\u0629 \u062a\u0623\u0645\u064a\u0646 \u0635\u062d\u064a "),e.qZA()(),e.TgZ(18,"div",12),e._UZ(19,"input",13),e.qZA(),e.TgZ(20,"div",14)(21,"button",15),e._UZ(22,"i",16),e._uU(23," \u062a\u0635\u0646\u064a\u0641 "),e.qZA()()()(),e.TgZ(24,"div",17)(25,"div",18)(26,"table",19)(27,"thead")(28,"tr")(29,"th"),e._uU(30,"\u062a\u0631\u0642\u064a\u0645"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0623"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(37,"th"),e.qZA()(),e.TgZ(38,"tbody"),e.YNc(39,Ea,2,1,"tr",20),e.YNc(40,Za,3,0,"tr",21),e.qZA()()()(),e.TgZ(41,"div",7)(42,"div",22)(43,"div",23)(44,"pagination",24),e.NdJ("pageChange",function(s){return n.onPageChange(s)}),e.qZA()()()()()()()()),2&a&&(e.xp6(39),e.Q6J("ngForOf",n.medicalInsurances),e.xp6(1),e.Q6J("ngIf",0===n.medicalInsurances.length&&!n.loading),e.xp6(4),e.Q6J("currentPage",n.currentPage)("totalPages",n.totalPages))},dependencies:[d.ez,d.sg,d.O5,u.Bz,u.rH,_.fQ,_.lO,x.Q,l.u5,I.L]})}return i})();function ka(i,o){1&i&&(e.TgZ(0,"h5"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u062a\u0623\u0645\u064a\u0646 \u0635\u062d\u064a"),e.qZA())}function Sa(i,o){1&i&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u062a\u0623\u0645\u064a\u0646 \u0635\u062d\u064a"),e.qZA())}function qa(i,o){if(1&i&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.medicalInsurance.id),e.xp6(1),e.hij(" ",t.medicalInsurance.package_name," ")}}function Na(i,o){1&i&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Pa(i,o){if(1&i&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.medicalInsuranceForm.controls.medical_insurance_id.errors?null:t.medicalInsuranceForm.controls.medical_insurance_id.errors.serverError[0]," ")}}function La(i,o){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Na,2,0,"div",19),e.YNc(2,Pa,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.medical_insurance_id.errors?null:t.medicalInsuranceForm.controls.medical_insurance_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.medical_insurance_id.errors?null:t.medicalInsuranceForm.controls.medical_insurance_id.errors.serverError)}}function Oa(i,o){if(1&i&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.first_name," ",t.last_name," ")}}function Ua(i,o){1&i&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Ya(i,o){if(1&i&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.medicalInsuranceForm.controls.employee_id.errors?null:t.medicalInsuranceForm.controls.employee_id.errors.serverError[0]," ")}}function Va(i,o){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Ua,2,0,"div",19),e.YNc(2,Ya,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.employee_id.errors?null:t.medicalInsuranceForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.employee_id.errors?null:t.medicalInsuranceForm.controls.employee_id.errors.serverError)}}function Ba(i,o){1&i&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Qa(i,o){if(1&i&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.medicalInsuranceForm.controls.start_date.errors?null:t.medicalInsuranceForm.controls.start_date.errors.serverError[0]," ")}}function ja(i,o){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Ba,2,0,"div",19),e.YNc(2,Qa,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.start_date.errors?null:t.medicalInsuranceForm.controls.start_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.start_date.errors?null:t.medicalInsuranceForm.controls.start_date.errors.serverError)}}function za(i,o){1&i&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Ja(i,o){if(1&i&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.medicalInsuranceForm.controls.end_date.errors?null:t.medicalInsuranceForm.controls.end_date.errors.serverError[0]," ")}}function Ha(i,o){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,za,2,0,"div",19),e.YNc(2,Ja,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.end_date.errors?null:t.medicalInsuranceForm.controls.end_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.end_date.errors?null:t.medicalInsuranceForm.controls.end_date.errors.serverError)}}function $a(i,o){1&i&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Ga(i,o){if(1&i&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.medicalInsuranceForm.controls.card_number.errors?null:t.medicalInsuranceForm.controls.card_number.errors.serverError[0]," ")}}function Ka(i,o){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,$a,2,0,"div",19),e.YNc(2,Ga,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.card_number.errors?null:t.medicalInsuranceForm.controls.card_number.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.card_number.errors?null:t.medicalInsuranceForm.controls.card_number.errors.serverError)}}function Wa(i,o){1&i&&(e.ynx(0),e.TgZ(1,"div",32)(2,"button",33),e._UZ(3,"i",34),e._uU(4," \u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a "),e.qZA()(),e.BQk())}function Xa(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",32)(1,"button",35),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateMedicalInsurance())}),e._uU(2," \u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a "),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.medicalInsuranceForm.valid)}}const en=function(i){return[i]};let Ee=(()=>{class i{constructor(t,a,n,r,s,c,m){this.localize=t,this.router=a,this.activatedRoute=n,this._MessagesService=r,this.employeesService=s,this.medicalInsuranceService=c,this.dashboardService=m,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.medicalInsuranceId="",this.employees=[],this.medicalInsurances=[],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.medicalInsuranceForm=new l.cw({medical_insurance_id:new l.NI("1",l.kI.required),employee_id:new l.NI("",l.kI.required),start_date:new l.NI("",l.kI.required),end_date:new l.NI("",l.kI.required),card_number:new l.NI("",l.kI.required)}),this.filteredMedicalInsurances=[]}ngOnInit(){this.getEmployees(),this.activatedRoute.paramMap.subscribe(t=>{const a=t.get("id");a?(this.medicalInsuranceId=a,this.isEditMode=!0,this.medicalInsuranceService.getMedicalInsuranceById(a).subscribe(n=>{n&&n.data&&(this.setFormValues(n.data),this.getMedicalInsurances(n.data.employee.id))})):this.getMedicalInsurances()})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:t=>{t&&t.data&&(this.employees=t.data)},error:t=>{console.error(t)}})}getMedicalInsurances(t){this.medicalInsuranceService.getAllMedicalInsurances().subscribe({next:a=>{a&&a.data&&(this.medicalInsurances=a.data,t&&(this.filteredMedicalInsurances=this.medicalInsurances.filter(n=>n.employee&&n.employee.id==t)))},error:a=>{console.error(a)}})}setFormValues(t){this.medicalInsuranceForm.patchValue({medical_insurance_id:t.medicalInsurance.id,employee_id:t.employee.id,start_date:t.start_date,end_date:t.end_date,card_number:t.card_number})}updateMedicalInsurance(){if(this.medicalInsuranceForm.valid){const t={...this.medicalInsuranceForm.value,_method:"PATCH"};this.medicalInsuranceService.updateMedicalInsurance(this.medicalInsuranceId,t).subscribe({next:a=>{this.navigateToMedicalInsurancesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",3e3)},error:a=>{a.error&&a.error.errors?this.handleValidationErrors(a.error.errors):console.error("Failed to update medical insurance:",a)}})}else this.medicalInsuranceForm.markAllAsTouched()}onSubmit(){if(console.log(this.medicalInsuranceForm.value),this.medicalInsuranceForm.valid){const t={...this.medicalInsuranceForm.value};this.medicalInsuranceService.createMedicalInsurance(t).subscribe({next:a=>{this.navigateToMedicalInsurancesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:a=>{a.error&&a.error.errors?this.handleValidationErrors(a.error.errors):(this.errorMessage="Failed to add medical insurance. Please try again.",console.error("Failed to add medical insurance:",a))}})}else this.medicalInsuranceForm.markAllAsTouched()}handleValidationErrors(t){for(const a in t)if(t.hasOwnProperty(a)){const n=this.medicalInsuranceForm.get(a);n&&n.setErrors({serverError:t[a]})}}navigateToMedicalInsurancesList(){const t=this.localize.translateRoute("/dashboard/employees/medical-list");this.router.navigate([t])}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(_.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(f.K),e.Y36(C.M),e.Y36(K),e.Y36(D.K))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-create-medical-insurance"]],standalone:!0,features:[e.jDz],decls:52,vars:17,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","medical_insurance_id",1,"form-label"],["name","medical_insurance_id","id","medical_insurance_id","formControlName","medical_insurance_id",1,"form-select","form-select-lg"],[3,"value",4,"ngFor","ngForOf"],["class","ms-error",4,"ngIf"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id",1,"form-select","form-select-lg"],["for","start_date",1,"form-label"],["formControlName","start_date","type","date","name","start_date","id","start_date",1,"form-control","form-control-lg"],["for","end_date",1,"form-label"],["formControlName","end_date","type","date","name","end_date","id","end_date",1,"form-control","form-control-lg"],["for","card_number",1,"form-label"],["formControlName","card_number","type","number","name","card_number","id","card_number",1,"form-control","form-control-lg"],[4,"ngIf","ngIfElse"],["editButton",""],[3,"value"],[1,"ms-error"],[1,"form-group","col-md-12","mb-3"],["type","submit",1,"btn","px-5","py-3"],[1,"fa-solid","fa-circle-plus","me-2"],["type","button",1,"btn","px-5","py-3",3,"disabled","click"]],template:function(a,n){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,ka,2,0,"h5",12),e.YNc(19,Sa,2,0,"h5",12),e.TgZ(20,"form",13),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"\u0646\u0648\u0639 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a"),e.qZA(),e.TgZ(25,"select",17),e.YNc(26,qa,2,2,"option",18),e.qZA(),e.YNc(27,La,3,2,"div",19),e.qZA(),e.TgZ(28,"div",15)(29,"label",20),e._uU(30,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(31,"select",21),e.YNc(32,Oa,2,3,"option",18),e.qZA(),e.YNc(33,Va,3,2,"div",19),e.qZA(),e.TgZ(34,"div",15)(35,"label",22),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0621"),e.qZA(),e._UZ(37,"input",23),e.YNc(38,ja,3,2,"div",19),e.qZA(),e.TgZ(39,"div",15)(40,"label",24),e._uU(41,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(42,"input",25),e.YNc(43,Ha,3,2,"div",19),e.qZA(),e.TgZ(44,"div",15)(45,"label",26),e._uU(46,"\u0631\u0642\u0645 \u0627\u0644\u0628\u0637\u0627\u0642\u0629"),e.qZA(),e._UZ(47,"input",27),e.YNc(48,Ka,3,2,"div",19),e.qZA(),e.YNc(49,Wa,5,0,"ng-container",28),e.YNc(50,Xa,3,1,"ng-template",null,29,e.W1O),e.qZA()()()()()()()),2&a){const r=e.MAs(51);e.xp6(10),e.Q6J("routerLink",e.VKq(15,en,e.lcZ(11,13,"/dashboard/employees/medical-list"))),e.xp6(8),e.Q6J("ngIf",!n.isEditMode),e.xp6(1),e.Q6J("ngIf",n.isEditMode),e.xp6(1),e.Q6J("formGroup",n.medicalInsuranceForm),e.xp6(6),e.Q6J("ngForOf",n.medicalInsurances),e.xp6(1),e.Q6J("ngIf",n.medicalInsuranceForm.controls.medical_insurance_id.invalid&&(n.medicalInsuranceForm.controls.medical_insurance_id.dirty||n.medicalInsuranceForm.controls.medical_insurance_id.touched)),e.xp6(5),e.Q6J("ngForOf",n.employees),e.xp6(1),e.Q6J("ngIf",n.medicalInsuranceForm.controls.employee_id.invalid&&(n.medicalInsuranceForm.controls.employee_id.dirty||n.medicalInsuranceForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngIf",n.medicalInsuranceForm.controls.start_date.invalid&&(n.medicalInsuranceForm.controls.start_date.dirty||n.medicalInsuranceForm.controls.start_date.touched)),e.xp6(5),e.Q6J("ngIf",n.medicalInsuranceForm.controls.end_date.invalid&&(n.medicalInsuranceForm.controls.end_date.dirty||n.medicalInsuranceForm.controls.end_date.touched)),e.xp6(5),e.Q6J("ngIf",n.medicalInsuranceForm.controls.card_number.invalid&&(n.medicalInsuranceForm.controls.card_number.dirty||n.medicalInsuranceForm.controls.card_number.touched)),e.xp6(1),e.Q6J("ngIf",!n.isEditMode)("ngIfElse",r)}},dependencies:[d.ez,d.sg,d.O5,I.L,u.rH,_.fQ,_.lO,l.UX,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.sg,l.u,q,O,Y,A.XK,P.ot,V,B]})}return i})();function tn(i,o){if(1&i&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.medicalInsurance.id),e.xp6(1),e.hij(" ",t.medicalInsurance.package_name," ")}}function an(i,o){1&i&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function nn(i,o){if(1&i&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.medicalInsuranceForm.controls.medical_insurance_id.errors?null:t.medicalInsuranceForm.controls.medical_insurance_id.errors.serverError[0]," ")}}function rn(i,o){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,an,2,0,"div",18),e.YNc(2,nn,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.medical_insurance_id.errors?null:t.medicalInsuranceForm.controls.medical_insurance_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.medical_insurance_id.errors?null:t.medicalInsuranceForm.controls.medical_insurance_id.errors.serverError)}}function on(i,o){if(1&i&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.first_name," ",t.last_name," ")}}function ln(i,o){1&i&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function sn(i,o){if(1&i&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.medicalInsuranceForm.controls.employee_id.errors?null:t.medicalInsuranceForm.controls.employee_id.errors.serverError[0]," ")}}function dn(i,o){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,ln,2,0,"div",18),e.YNc(2,sn,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.employee_id.errors?null:t.medicalInsuranceForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.employee_id.errors?null:t.medicalInsuranceForm.controls.employee_id.errors.serverError)}}function cn(i,o){1&i&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function un(i,o){if(1&i&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.medicalInsuranceForm.controls.start_date.errors?null:t.medicalInsuranceForm.controls.start_date.errors.serverError[0]," ")}}function mn(i,o){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,cn,2,0,"div",18),e.YNc(2,un,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.start_date.errors?null:t.medicalInsuranceForm.controls.start_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.start_date.errors?null:t.medicalInsuranceForm.controls.start_date.errors.serverError)}}function pn(i,o){1&i&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function _n(i,o){if(1&i&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.medicalInsuranceForm.controls.end_date.errors?null:t.medicalInsuranceForm.controls.end_date.errors.serverError[0]," ")}}function fn(i,o){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,pn,2,0,"div",18),e.YNc(2,_n,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.end_date.errors?null:t.medicalInsuranceForm.controls.end_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.end_date.errors?null:t.medicalInsuranceForm.controls.end_date.errors.serverError)}}function hn(i,o){1&i&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function gn(i,o){if(1&i&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.medicalInsuranceForm.controls.card_number.errors?null:t.medicalInsuranceForm.controls.card_number.errors.serverError[0]," ")}}function vn(i,o){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,hn,2,0,"div",18),e.YNc(2,gn,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.card_number.errors?null:t.medicalInsuranceForm.controls.card_number.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.medicalInsuranceForm.controls.card_number.errors?null:t.medicalInsuranceForm.controls.card_number.errors.serverError)}}const xn=function(i){return[i]};let bn=(()=>{class i{constructor(t,a,n,r,s,c,m){this.localize=t,this.router=a,this.activatedRoute=n,this._MessagesService=r,this.employeesService=s,this.medicalInsuranceService=c,this.dashboardService=m,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.medicalInsuranceId="",this.employees=[],this.medicalInsurances=[],this.medicalInformation=[],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.medicalInsuranceForm=new l.cw({medical_insurance_id:new l.NI("",l.kI.required),employee_id:new l.NI("",l.kI.required),start_date:new l.NI("",l.kI.required),end_date:new l.NI("",l.kI.required),card_number:new l.NI("",l.kI.required)})}ngOnInit(){this.getEmployees(),this.activatedRoute.paramMap.subscribe(t=>{const a=t.get("id");a&&(this.medicalInsuranceId=a,this.isEditMode=!0,this.medicalInsuranceService.getMedicalInsuranceById(a).subscribe(n=>{n&&n.data&&(this.medicalInformation=n.data,this.getMedicalInsurances())}))})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:t=>{t&&t.data&&(this.employees=t.data)},error:t=>{console.error(t)}})}getMedicalInsurances(){this.medicalInsuranceService.getAllMedicalInsurances().subscribe({next:t=>{t&&t.data&&(this.medicalInsurances=t.data,this.setFormValues(this.medicalInformation))},error:t=>{console.error(t)}})}setFormValues(t){console.log(t.medicalInsurance.id),console.log(this.medicalInsurances),this.medicalInsuranceForm.patchValue({medical_insurance_id:t.medicalInsurance.id,employee_id:t.employee.id,start_date:t.start_date,end_date:t.end_date,card_number:t.card_number}),console.log(this.medicalInsuranceForm.value)}navigateToMedicalInsurancesList(){const t=this.localize.translateRoute("/dashboard/employees/medical-list");this.router.navigate([t])}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(_.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(f.K),e.Y36(C.M),e.Y36(K),e.Y36(D.K))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-show-medical-insurance"]],standalone:!0,features:[e.jDz],decls:49,vars:13,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","medical_insurance_id",1,"form-label"],["name","medical_insurance_id","id","medical_insurance_id","formControlName","medical_insurance_id",1,"form-select","form-select-lg","readonly-select"],[3,"value",4,"ngFor","ngForOf"],["class","ms-error",4,"ngIf"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id",1,"form-select","form-select-lg","readonly-select"],["for","start_date",1,"form-label"],["formControlName","start_date","type","date","name","start_date","id","start_date","readonly","",1,"form-control","form-control-lg","readonly-input"],["for","end_date",1,"form-label"],["formControlName","end_date","type","date","name","end_date","id","end_date","readonly","",1,"form-control","form-control-lg","readonly-input"],["for","card_number",1,"form-label"],["formControlName","card_number","type","text","name","card_number","id","card_number","readonly","",1,"form-control","form-control-lg","readonly-input"],[3,"value"],[1,"ms-error"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"h5"),e._uU(19,"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u0623\u0645\u064a\u0646"),e.qZA(),e.TgZ(20,"form",12)(21,"div",13)(22,"div",14)(23,"label",15),e._uU(24,"\u0646\u0648\u0639 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a"),e.qZA(),e.TgZ(25,"select",16),e.YNc(26,tn,2,2,"option",17),e.qZA(),e.YNc(27,rn,3,2,"div",18),e.qZA(),e.TgZ(28,"div",14)(29,"label",19),e._uU(30,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(31,"select",20),e.YNc(32,on,2,3,"option",17),e.qZA(),e.YNc(33,dn,3,2,"div",18),e.qZA(),e.TgZ(34,"div",14)(35,"label",21),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0621"),e.qZA(),e._UZ(37,"input",22),e.YNc(38,mn,3,2,"div",18),e.qZA(),e.TgZ(39,"div",14)(40,"label",23),e._uU(41,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(42,"input",24),e.YNc(43,fn,3,2,"div",18),e.qZA(),e.TgZ(44,"div",14)(45,"label",25),e._uU(46,"\u0631\u0642\u0645 \u0627\u0644\u0628\u0637\u0627\u0642\u0629"),e.qZA(),e._UZ(47,"input",26),e.YNc(48,vn,3,2,"div",18),e.qZA()()()()()()()()),2&a&&(e.xp6(10),e.Q6J("routerLink",e.VKq(11,xn,e.lcZ(11,9,"/dashboard/employees/medical-list"))),e.xp6(10),e.Q6J("formGroup",n.medicalInsuranceForm),e.xp6(6),e.Q6J("ngForOf",n.medicalInsurances),e.xp6(1),e.Q6J("ngIf",n.medicalInsuranceForm.controls.medical_insurance_id.invalid&&(n.medicalInsuranceForm.controls.medical_insurance_id.dirty||n.medicalInsuranceForm.controls.medical_insurance_id.touched)),e.xp6(5),e.Q6J("ngForOf",n.employees),e.xp6(1),e.Q6J("ngIf",n.medicalInsuranceForm.controls.employee_id.invalid&&(n.medicalInsuranceForm.controls.employee_id.dirty||n.medicalInsuranceForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngIf",n.medicalInsuranceForm.controls.start_date.invalid&&(n.medicalInsuranceForm.controls.start_date.dirty||n.medicalInsuranceForm.controls.start_date.touched)),e.xp6(5),e.Q6J("ngIf",n.medicalInsuranceForm.controls.end_date.invalid&&(n.medicalInsuranceForm.controls.end_date.dirty||n.medicalInsuranceForm.controls.end_date.touched)),e.xp6(5),e.Q6J("ngIf",n.medicalInsuranceForm.controls.card_number.invalid&&(n.medicalInsuranceForm.controls.card_number.dirty||n.medicalInsuranceForm.controls.card_number.touched)))},dependencies:[d.ez,d.sg,d.O5,I.L,u.rH,l.UX,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.sg,l.u,_.fQ,_.lO],styles:[".readonly-select[_ngcontent-%COMP%]{background-color:#fff;pointer-events:none;opacity:1;appearance:none}"]})}return i})();const yn=function(i,o){return[i,o]};function An(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",25)(10,"a",26),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.viewInsurance(r))}),e._UZ(11,"i",27),e._uU(12," \u0639\u0631\u0636"),e.qZA(),e.TgZ(13,"a",28),e.ALo(14,"localize"),e._UZ(15,"i",29),e._uU(16," \u062a\u0639\u062f\u064a\u0644 "),e.qZA(),e.TgZ(17,"button",30),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteInsurance(r.id,r.employee.first_name+" "+r.employee.last_name))}),e._UZ(18,"i",31),e._uU(19," \u062d\u0630\u0641 "),e.qZA()()()}if(2&i){const t=o.$implicit,a=o.index;e.xp6(2),e.Oqu(a+1),e.xp6(2),e.AsE(" ",t.employee.first_name," ",t.employee.last_name," "),e.xp6(2),e.Oqu(t.start_date),e.xp6(2),e.Oqu(t.end_date),e.xp6(5),e.Q6J("routerLink",e.WLB(8,yn,e.lcZ(14,6,"/dashboard/employees/add-insurances"),t.id))}}function In(i,o){1&i&&(e.TgZ(0,"tr")(1,"td",32),e._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),e.qZA()())}let Cn=(()=>{class i{constructor(t,a,n,r,s){this.empSocialInsurancesService=t,this.localize=a,this.router=n,this.dialog=r,this.employeesService=s,this.searchQuery="",this.socialInsurances=[],this.loading=!1,console.log("social insurance working")}ngOnInit(){this.getListSocialInsurances()}getListSocialInsurances(t=1){this.loading=!0,this.empSocialInsurancesService.getAllSocialInsurances().subscribe({next:a=>{console.log(a.data);const n=a.data;console.log(n);const r=n.map(s=>this.employeesService.GetEmployeeById(s.employee_id));(0,Ae.D)(r).subscribe({next:s=>{this.socialInsurances=n.map((c,m)=>({...c,employee:s[m].data})),this.currentPage=a.current_page,this.totalPages=a.last_page,this.loading=!1},error:s=>{this.loading=!1,console.error("There was an error fetching employees!",s)}})},error:a=>{this.loading=!1,console.error("There was an error!",a)}})}navigateToAddInsurance(){const t=this.localize.translateRoute("/dashboard/employees/add-insurances");this.router.navigate([t])}deleteInsurance(t,a){this.dialog.open(E.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${a} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(r=>{r&&this.empSocialInsurancesService.deleteSocialInsurance(t.toString()).subscribe({next:s=>{this.getListSocialInsurances()},error:s=>{console.error("There was an error deleting the insurance!",s)}})})}viewInsurance(t){if(t){const a=this.localize.translateRoute("/dashboard/employees/show-insurances");this.router.navigate([a,t.id])}else console.error("No insurance to view")}onPageChange(t){this.getListSocialInsurances(t)}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(X),e.Y36(_.An),e.Y36(u.F0),e.Y36(F.uw),e.Y36(C.M))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-social-insurance-list"]],standalone:!0,features:[e.jDz],decls:45,vars:4,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-12"],[1,"row","list-row"],[1,"card","rounded-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-xl-3","col-lg-3","addNew","mb-2"],[1,"btn","w-100","py-3","rounded-4",3,"click"],[1,"fa-solid","fa-circle-plus","me-2"],[1,"col-xl-7","col-lg-6","col-sm-8","searchINP","mb-2"],["type","search","placeholder","\u0627\u0644\u0628\u062d\u062b",1,"form-control","form-control-lg","rounded-3"],[1,"col-xl-2","col-lg-3","col-sm-4","text-center","filterBTN","mb-2"],[1,"btn","px-sm-4","px-5"],[1,"fa-solid","fa-sliders"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[1,"col-md-12"],[3,"currentPage","totalPages","pageChange"],[1,"action"],[1,"btn","get","mx-2",3,"click"],[1,"fa-solid","fa-eye"],[1,"btn","edit","mx-2",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete","bg-danger","mx-2",3,"click"],[1,"fa-regular","fa-trash-can"],["colspan","6",1,"text-center"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA()(),e.TgZ(9,"div",5)(10,"div",4)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"a",10),e.NdJ("click",function(){return n.navigateToAddInsurance()}),e._UZ(16,"i",11),e._uU(17," \u0625\u0636\u0627\u0641\u0629 \u062a\u0623\u0645\u064a\u0646 \u0627\u062c\u062a\u0645\u0627\u0639\u064a "),e.qZA()(),e.TgZ(18,"div",12),e._UZ(19,"input",13),e.qZA(),e.TgZ(20,"div",14)(21,"button",15),e._UZ(22,"i",16),e._uU(23," \u062a\u0635\u0646\u064a\u0641 "),e.qZA()()()(),e.TgZ(24,"div",17)(25,"div",18)(26,"table",19)(27,"thead")(28,"tr")(29,"th"),e._uU(30,"\u062a\u0631\u0642\u064a\u0645"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0623"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(37,"th"),e.qZA()(),e.TgZ(38,"tbody"),e.YNc(39,An,20,11,"tr",20),e.YNc(40,In,3,0,"tr",21),e.qZA()()()(),e.TgZ(41,"div",7)(42,"div",22)(43,"div",23)(44,"pagination",24),e.NdJ("pageChange",function(s){return n.onPageChange(s)}),e.qZA()()()()()()()()),2&a&&(e.xp6(39),e.Q6J("ngForOf",n.socialInsurances),e.xp6(1),e.Q6J("ngIf",0===n.socialInsurances.length&&!n.loading),e.xp6(4),e.Q6J("currentPage",n.currentPage)("totalPages",n.totalPages))},dependencies:[d.ez,d.sg,d.O5,u.Bz,u.rH,_.fQ,_.lO,x.Q,l.u5,I.L]})}return i})();function Mn(i,o){1&i&&(e.TgZ(0,"h5"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u062a\u0623\u0645\u064a\u0646 \u0627\u062c\u062a\u0645\u0627\u0639\u064a"),e.qZA())}function wn(i,o){1&i&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u062a\u0623\u0645\u064a\u0646 \u0627\u062c\u062a\u0645\u0627\u0639\u064a"),e.qZA())}function Fn(i,o){if(1&i&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.socialInsurance.name," ")}}function Dn(i,o){1&i&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Tn(i,o){if(1&i&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.socialInsuranceForm.controls.social_insurance_id.errors?null:t.socialInsuranceForm.controls.social_insurance_id.errors.serverError[0]," ")}}function En(i,o){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Dn,2,0,"div",19),e.YNc(2,Tn,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.social_insurance_id.errors?null:t.socialInsuranceForm.controls.social_insurance_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.social_insurance_id.errors?null:t.socialInsuranceForm.controls.social_insurance_id.errors.serverError)}}function Zn(i,o){if(1&i&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.first_name," ",t.last_name," ")}}function Rn(i,o){1&i&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function kn(i,o){if(1&i&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.socialInsuranceForm.controls.employee_id.errors?null:t.socialInsuranceForm.controls.employee_id.errors.serverError[0]," ")}}function Sn(i,o){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Rn,2,0,"div",19),e.YNc(2,kn,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.employee_id.errors?null:t.socialInsuranceForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.employee_id.errors?null:t.socialInsuranceForm.controls.employee_id.errors.serverError)}}function qn(i,o){1&i&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Nn(i,o){if(1&i&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.socialInsuranceForm.controls.start_date.errors?null:t.socialInsuranceForm.controls.start_date.errors.serverError[0]," ")}}function Pn(i,o){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,qn,2,0,"div",19),e.YNc(2,Nn,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.start_date.errors?null:t.socialInsuranceForm.controls.start_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.start_date.errors?null:t.socialInsuranceForm.controls.start_date.errors.serverError)}}function Ln(i,o){1&i&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function On(i,o){if(1&i&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.socialInsuranceForm.controls.end_date.errors?null:t.socialInsuranceForm.controls.end_date.errors.serverError[0]," ")}}function Un(i,o){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Ln,2,0,"div",19),e.YNc(2,On,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.end_date.errors?null:t.socialInsuranceForm.controls.end_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.end_date.errors?null:t.socialInsuranceForm.controls.end_date.errors.serverError)}}function Yn(i,o){1&i&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Vn(i,o){if(1&i&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.socialInsuranceForm.controls.insurance_number.errors?null:t.socialInsuranceForm.controls.insurance_number.errors.serverError[0]," ")}}function Bn(i,o){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Yn,2,0,"div",19),e.YNc(2,Vn,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.insurance_number.errors?null:t.socialInsuranceForm.controls.insurance_number.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.insurance_number.errors?null:t.socialInsuranceForm.controls.insurance_number.errors.serverError)}}function Qn(i,o){1&i&&(e.ynx(0),e.TgZ(1,"div",32)(2,"button",33),e._UZ(3,"i",34),e._uU(4," \u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a "),e.qZA()(),e.BQk())}function jn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",32)(1,"button",35),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateSocialInsurance())}),e._uU(2," \u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a "),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.socialInsuranceForm.valid)}}const zn=function(i){return[i]};let Ze=(()=>{class i{constructor(t,a,n,r,s,c){this.localize=t,this.router=a,this.activatedRoute=n,this._MessagesService=r,this.employeesService=s,this.socialInsuranceService=c,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.socialInsuranceId="",this.employees=[],this.socialInsurances=[],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.socialInsuranceForm=new l.cw({social_insurance_id:new l.NI("",l.kI.required),employee_id:new l.NI("",l.kI.required),start_date:new l.NI("",l.kI.required),end_date:new l.NI("",l.kI.required),insurance_number:new l.NI("",l.kI.required)})}ngOnInit(){this.getEmployees(),this.getSocialInsurances(),this.activatedRoute.paramMap.subscribe(t=>{const a=t.get("id");a&&(this.socialInsuranceId=a,this.isEditMode=!0,this.socialInsuranceService.getSocialInsuranceById(a).subscribe(n=>{n&&n.data&&this.setFormValues(n.data)}))})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:t=>{t&&t.data&&(this.employees=t.data)},error:t=>{console.error(t)}})}getSocialInsurances(){this.socialInsuranceService.getAllSocialInsurances().subscribe({next:t=>{t&&t.data&&(this.socialInsurances=t.data)},error:t=>{console.error(t)}})}setFormValues(t){this.socialInsuranceForm.patchValue({social_insurance_id:t.socialInsurance.id,employee_id:t.id,start_date:t.start_date,end_date:t.end_date,insurance_number:t.insurance_number})}updateSocialInsurance(){if(this.socialInsuranceForm.valid){const t={...this.socialInsuranceForm.value,_method:"PATCH"};this.socialInsuranceService.updateSocialInsurance(this.socialInsuranceId,t).subscribe({next:a=>{this.navigateToSocialInsurancesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",3e3)},error:a=>{a.error&&a.error.errors?this.handleValidationErrors(a.error.errors):console.error("Failed to update social insurance:",a)}})}else this.socialInsuranceForm.markAllAsTouched()}onSubmit(){if(this.socialInsuranceForm.valid){const t={...this.socialInsuranceForm.value};this.socialInsuranceService.createSocialInsurance(t).subscribe({next:a=>{this.navigateToSocialInsurancesList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:a=>{a.error&&a.error.errors?this.handleValidationErrors(a.error.errors):(this.errorMessage="Failed to add social insurance. Please try again.",console.error("Failed to add social insurance:",a))}})}else this.socialInsuranceForm.markAllAsTouched()}handleValidationErrors(t){for(const a in t)if(t.hasOwnProperty(a)){const n=this.socialInsuranceForm.get(a);n&&n.setErrors({serverError:t[a]})}}navigateToSocialInsurancesList(){const t=this.localize.translateRoute("/dashboard/employees/social-insurances");this.router.navigate([t])}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(_.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(f.K),e.Y36(C.M),e.Y36(X))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-create-social-insurance"]],standalone:!0,features:[e.jDz],decls:52,vars:17,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","social_insurance_id",1,"form-label"],["name","social_insurance_id","id","social_insurance_id","formControlName","social_insurance_id",1,"form-select","form-select-lg"],[3,"value",4,"ngFor","ngForOf"],["class","ms-error",4,"ngIf"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id",1,"form-select","form-select-lg"],["for","start_date",1,"form-label"],["formControlName","start_date","type","date","name","start_date","id","start_date",1,"form-control","form-control-lg"],["for","end_date",1,"form-label"],["formControlName","end_date","type","date","name","end_date","id","end_date",1,"form-control","form-control-lg"],["for","insurance_number",1,"form-label"],["formControlName","insurance_number","type","number","name","insurance_number","id","insurance_number",1,"form-control","form-control-lg"],[4,"ngIf","ngIfElse"],["editButton",""],[3,"value"],[1,"ms-error"],[1,"form-group","col-md-12","mb-3"],["type","submit",1,"btn","px-5","py-3"],[1,"fa-solid","fa-circle-plus","me-2"],["type","button",1,"btn","px-5","py-3",3,"disabled","click"]],template:function(a,n){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,Mn,2,0,"h5",12),e.YNc(19,wn,2,0,"h5",12),e.TgZ(20,"form",13),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"\u0646\u0648\u0639 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a"),e.qZA(),e.TgZ(25,"select",17),e.YNc(26,Fn,2,2,"option",18),e.qZA(),e.YNc(27,En,3,2,"div",19),e.qZA(),e.TgZ(28,"div",15)(29,"label",20),e._uU(30,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(31,"select",21),e.YNc(32,Zn,2,3,"option",18),e.qZA(),e.YNc(33,Sn,3,2,"div",19),e.qZA(),e.TgZ(34,"div",15)(35,"label",22),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0621"),e.qZA(),e._UZ(37,"input",23),e.YNc(38,Pn,3,2,"div",19),e.qZA(),e.TgZ(39,"div",15)(40,"label",24),e._uU(41,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(42,"input",25),e.YNc(43,Un,3,2,"div",19),e.qZA(),e.TgZ(44,"div",15)(45,"label",26),e._uU(46,"\u0631\u0642\u0645 \u0627\u0644\u062a\u0623\u0645\u064a\u0646"),e.qZA(),e._UZ(47,"input",27),e.YNc(48,Bn,3,2,"div",19),e.qZA(),e.YNc(49,Qn,5,0,"ng-container",28),e.YNc(50,jn,3,1,"ng-template",null,29,e.W1O),e.qZA()()()()()()()),2&a){const r=e.MAs(51);e.xp6(10),e.Q6J("routerLink",e.VKq(15,zn,e.lcZ(11,13,"/dashboard/employees/social-list"))),e.xp6(8),e.Q6J("ngIf",!n.isEditMode),e.xp6(1),e.Q6J("ngIf",n.isEditMode),e.xp6(1),e.Q6J("formGroup",n.socialInsuranceForm),e.xp6(6),e.Q6J("ngForOf",n.socialInsurances),e.xp6(1),e.Q6J("ngIf",n.socialInsuranceForm.controls.social_insurance_id.invalid&&(n.socialInsuranceForm.controls.social_insurance_id.dirty||n.socialInsuranceForm.controls.social_insurance_id.touched)),e.xp6(5),e.Q6J("ngForOf",n.employees),e.xp6(1),e.Q6J("ngIf",n.socialInsuranceForm.controls.employee_id.invalid&&(n.socialInsuranceForm.controls.employee_id.dirty||n.socialInsuranceForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngIf",n.socialInsuranceForm.controls.start_date.invalid&&(n.socialInsuranceForm.controls.start_date.dirty||n.socialInsuranceForm.controls.start_date.touched)),e.xp6(5),e.Q6J("ngIf",n.socialInsuranceForm.controls.end_date.invalid&&(n.socialInsuranceForm.controls.end_date.dirty||n.socialInsuranceForm.controls.end_date.touched)),e.xp6(5),e.Q6J("ngIf",n.socialInsuranceForm.controls.insurance_number.invalid&&(n.socialInsuranceForm.controls.insurance_number.dirty||n.socialInsuranceForm.controls.insurance_number.touched)),e.xp6(1),e.Q6J("ngIf",!n.isEditMode)("ngIfElse",r)}},dependencies:[d.ez,d.sg,d.O5,I.L,u.rH,_.fQ,_.lO,l.UX,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.sg,l.u,q,O,Y,A.XK,P.ot,V,B]})}return i})();function Jn(i,o){if(1&i&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.socialInsurance.name," ")}}function Hn(i,o){1&i&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function $n(i,o){if(1&i&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.socialInsuranceForm.controls.social_insurance_id.errors?null:t.socialInsuranceForm.controls.social_insurance_id.errors.serverError[0]," ")}}function Gn(i,o){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,Hn,2,0,"div",18),e.YNc(2,$n,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.social_insurance_id.errors?null:t.socialInsuranceForm.controls.social_insurance_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.social_insurance_id.errors?null:t.socialInsuranceForm.controls.social_insurance_id.errors.serverError)}}function Kn(i,o){if(1&i&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.first_name," ",t.last_name," ")}}function Wn(i,o){1&i&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Xn(i,o){if(1&i&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.socialInsuranceForm.controls.employee_id.errors?null:t.socialInsuranceForm.controls.employee_id.errors.serverError[0]," ")}}function er(i,o){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,Wn,2,0,"div",18),e.YNc(2,Xn,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.employee_id.errors?null:t.socialInsuranceForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.employee_id.errors?null:t.socialInsuranceForm.controls.employee_id.errors.serverError)}}function tr(i,o){1&i&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function ir(i,o){if(1&i&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.socialInsuranceForm.controls.start_date.errors?null:t.socialInsuranceForm.controls.start_date.errors.serverError[0]," ")}}function ar(i,o){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,tr,2,0,"div",18),e.YNc(2,ir,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.start_date.errors?null:t.socialInsuranceForm.controls.start_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.start_date.errors?null:t.socialInsuranceForm.controls.start_date.errors.serverError)}}function nr(i,o){1&i&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function rr(i,o){if(1&i&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.socialInsuranceForm.controls.end_date.errors?null:t.socialInsuranceForm.controls.end_date.errors.serverError[0]," ")}}function or(i,o){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,nr,2,0,"div",18),e.YNc(2,rr,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.end_date.errors?null:t.socialInsuranceForm.controls.end_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.end_date.errors?null:t.socialInsuranceForm.controls.end_date.errors.serverError)}}function lr(i,o){1&i&&(e.TgZ(0,"div",28),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function sr(i,o){if(1&i&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.socialInsuranceForm.controls.insurance_number.errors?null:t.socialInsuranceForm.controls.insurance_number.errors.serverError[0]," ")}}function dr(i,o){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,lr,2,0,"div",18),e.YNc(2,sr,2,1,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.insurance_number.errors?null:t.socialInsuranceForm.controls.insurance_number.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.socialInsuranceForm.controls.insurance_number.errors?null:t.socialInsuranceForm.controls.insurance_number.errors.serverError)}}const cr=function(i){return[i]};let ur=(()=>{class i{constructor(t,a,n,r,s){this.localize=t,this.router=a,this.activatedRoute=n,this.employeesService=r,this.socialInsuranceService=s,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.socialInsuranceId="",this.employees=[],this.socialInsurances=[],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.socialInsuranceForm=new l.cw({social_insurance_id:new l.NI("",l.kI.required),employee_id:new l.NI("",l.kI.required),start_date:new l.NI("",l.kI.required),end_date:new l.NI("",l.kI.required),insurance_number:new l.NI("",l.kI.required)})}ngOnInit(){this.getEmployees(),this.getSocialInsurances(),this.activatedRoute.paramMap.subscribe(t=>{const a=t.get("id");a&&(this.socialInsuranceId=a,this.isEditMode=!0,this.socialInsuranceService.getSocialInsuranceById(a).subscribe(n=>{n&&n.data&&this.setFormValues(n.data)}))})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:t=>{t&&t.data&&(this.employees=t.data)},error:t=>{console.error(t)}})}getSocialInsurances(){this.socialInsuranceService.getAllSocialInsurances().subscribe({next:t=>{t&&t.data&&(this.socialInsurances=t.data)},error:t=>{console.error(t)}})}setFormValues(t){this.socialInsuranceForm.patchValue({social_insurance_id:t.socialInsurance.id,employee_id:t.id,start_date:t.start_date,end_date:t.end_date,insurance_number:t.insurance_number})}handleValidationErrors(t){for(const a in t)if(t.hasOwnProperty(a)){const n=this.socialInsuranceForm.get(a);n&&n.setErrors({serverError:t[a]})}}navigateToSocialInsurancesList(){const t=this.localize.translateRoute("/dashboard/employees/social-insurances");this.router.navigate([t])}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(_.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(C.M),e.Y36(X))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-create-social-insurance"]],standalone:!0,features:[e.jDz],decls:47,vars:13,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","social_insurance_id",1,"form-label"],["name","social_insurance_id","id","social_insurance_id","formControlName","social_insurance_id",1,"form-select","form-select-lg","readonly-select"],[3,"value",4,"ngFor","ngForOf"],["class","ms-error",4,"ngIf"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id",1,"form-select","form-select-lg","readonly-select"],["for","start_date",1,"form-label"],["formControlName","start_date","type","date","name","start_date","id","start_date","readonly","",1,"form-control","form-control-lg"],["for","end_date",1,"form-label"],["formControlName","end_date","type","date","name","end_date","id","end_date","readonly","",1,"form-control","form-control-lg"],["for","insurance_number",1,"form-label"],["formControlName","insurance_number","type","number","name","insurance_number","id","insurance_number","readonly","",1,"form-control","form-control-lg"],[3,"value"],[1,"ms-error"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"form",12)(19,"div",13)(20,"div",14)(21,"label",15),e._uU(22,"\u0646\u0648\u0639 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a"),e.qZA(),e.TgZ(23,"select",16),e.YNc(24,Jn,2,2,"option",17),e.qZA(),e.YNc(25,Gn,3,2,"div",18),e.qZA(),e.TgZ(26,"div",14)(27,"label",19),e._uU(28,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(29,"select",20),e.YNc(30,Kn,2,3,"option",17),e.qZA(),e.YNc(31,er,3,2,"div",18),e.qZA(),e.TgZ(32,"div",14)(33,"label",21),e._uU(34,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0621"),e.qZA(),e._UZ(35,"input",22),e.YNc(36,ar,3,2,"div",18),e.qZA(),e.TgZ(37,"div",14)(38,"label",23),e._uU(39,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(40,"input",24),e.YNc(41,or,3,2,"div",18),e.qZA(),e.TgZ(42,"div",14)(43,"label",25),e._uU(44,"\u0631\u0642\u0645 \u0627\u0644\u062a\u0623\u0645\u064a\u0646"),e.qZA(),e._UZ(45,"input",26),e.YNc(46,dr,3,2,"div",18),e.qZA()()()()()()()()),2&a&&(e.xp6(10),e.Q6J("routerLink",e.VKq(11,cr,e.lcZ(11,9,"/dashboard/employees/social-insurances"))),e.xp6(8),e.Q6J("formGroup",n.socialInsuranceForm),e.xp6(6),e.Q6J("ngForOf",n.socialInsurances),e.xp6(1),e.Q6J("ngIf",n.socialInsuranceForm.controls.social_insurance_id.invalid&&(n.socialInsuranceForm.controls.social_insurance_id.dirty||n.socialInsuranceForm.controls.social_insurance_id.touched)),e.xp6(5),e.Q6J("ngForOf",n.employees),e.xp6(1),e.Q6J("ngIf",n.socialInsuranceForm.controls.employee_id.invalid&&(n.socialInsuranceForm.controls.employee_id.dirty||n.socialInsuranceForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngIf",n.socialInsuranceForm.controls.start_date.invalid&&(n.socialInsuranceForm.controls.start_date.dirty||n.socialInsuranceForm.controls.start_date.touched)),e.xp6(5),e.Q6J("ngIf",n.socialInsuranceForm.controls.end_date.invalid&&(n.socialInsuranceForm.controls.end_date.dirty||n.socialInsuranceForm.controls.end_date.touched)),e.xp6(5),e.Q6J("ngIf",n.socialInsuranceForm.controls.insurance_number.invalid&&(n.socialInsuranceForm.controls.insurance_number.dirty||n.socialInsuranceForm.controls.insurance_number.touched)))},dependencies:[d.ez,d.sg,d.O5,I.L,u.rH,_.fQ,_.lO,l.UX,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.sg,l.u],styles:[".readonly-select[_ngcontent-%COMP%]{background-color:#fff;pointer-events:none;opacity:1;appearance:none}"]})}return i})(),_e=(()=>{class i{constructor(t){this.http=t,this.payrollListUrl=`${M.N.url}employee/payroll/item`,this.createPayrollUrl=`${M.N.url}employee/payroll/item`,this.updatePayrollUrl=`${M.N.url}employee/payroll/item/`,this.deletePayrollUrl=`${M.N.url}payroll`,this.getPayrollUrl=`${M.N.url}employee/payroll/item/`}getAllPayrolls(t){let a=new w.LE;return t&&Object.keys(t).forEach(n=>{a=a.append(n,t[n])}),this.http.get(this.payrollListUrl,{params:a})}createPayroll(t,a){let n=new w.LE;return a&&Object.keys(a).forEach(r=>{n=n.append(r,a[r])}),this.http.post(this.createPayrollUrl,t,{params:n,headers:{"Content-Type":"application/json"}})}getPayrollById(t){return this.http.get(`${this.getPayrollUrl}${t}`)}updatePayroll(t,a,n){const r=`${this.updatePayrollUrl}${t}`;let s=new w.LE;n&&Object.keys(n).forEach(m=>{s=s.append(m,n[m])});const c=new FormData;return Object.keys(a).forEach(m=>{const h=a[m];null!=h&&c.append(m,h.toString())}),this.http.post(r,c,{params:s})}deletePayroll(t){return this.http.post(`${this.deletePayrollUrl}/delete?payroll_id=${t}`,"")}static#e=this.\u0275fac=function(a){return new(a||i)(e.LFG(w.eN))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const mr=function(i,o){return[i,o]};function pr(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",25)(10,"a",26),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.viewItem(r))}),e._UZ(11,"i",27),e._uU(12," \u0639\u0631\u0636"),e.qZA(),e.TgZ(13,"a",28),e.ALo(14,"localize"),e._UZ(15,"i",29),e._uU(16," \u062a\u0639\u062f\u064a\u0644 "),e.qZA(),e.TgZ(17,"button",30),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteItem(r.id,r.employee.first_name+" "+r.employee.last_name))}),e._UZ(18,"i",31),e._uU(19," \u062d\u0630\u0641 "),e.qZA()()()}if(2&i){const t=o.$implicit,a=o.index;e.xp6(2),e.Oqu(a+1),e.xp6(2),e.AsE(" ",t.employee.first_name," ",t.employee.last_name," "),e.xp6(2),e.Oqu(t.start_date),e.xp6(2),e.Oqu(t.end_date),e.xp6(5),e.Q6J("routerLink",e.WLB(8,mr,e.lcZ(14,6,"/dashboard/employees/add-payroll-item"),t.id))}}function _r(i,o){1&i&&(e.TgZ(0,"tr")(1,"td",32),e._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),e.qZA()())}let fr=(()=>{class i{constructor(t,a,n,r,s,c){this.employeeService=t,this.payrollItemsService=a,this.localize=n,this.router=r,this.activatedRoute=s,this.dialog=c,this.searchQuery="",this.payrollItems=[],this.loading=!1,console.log("payroll item working")}ngOnInit(){this.getListPayrollItems()}getListPayrollItems(t=1){this.loading=!0,this.payrollItemsService.getAllPayrolls().subscribe({next:a=>{console.log(a.data),this.payrollItems=a.data,this.currentPage=a.current_page,this.totalPages=a.last_page,this.loading=!1},error:a=>{this.loading=!1,console.error("There was an error!",a)}})}navigateToAddItem(){const t=this.localize.translateRoute("/dashboard/employees/add-payroll-item");this.router.navigate([t])}deleteItem(t,a){this.dialog.open(E.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${a} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(r=>{r&&this.payrollItemsService.deletePayroll(t.toString()).subscribe({next:s=>{this.getListPayrollItems()},error:s=>{console.error("There was an error deleting the item!",s)}})})}viewItem(t){if(t){const a=this.localize.translateRoute("/dashboard/employees/show-payroll-item");this.router.navigate([a,t.id])}else console.error("No item to view")}onPageChange(t){this.getListPayrollItems(t)}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(C.M),e.Y36(_e),e.Y36(_.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(F.uw))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-payroll-item-list"]],standalone:!0,features:[e.jDz],decls:45,vars:4,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-12"],[1,"row","list-row"],[1,"card","rounded-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-xl-3","col-lg-3","addNew","mb-2"],[1,"btn","w-100","py-3","rounded-4",3,"click"],[1,"fa-solid","fa-circle-plus","me-2"],[1,"col-xl-7","col-lg-6","col-sm-8","searchINP","mb-2"],["type","search","placeholder","\u0627\u0644\u0628\u062d\u062b",1,"form-control","form-control-lg","rounded-3"],[1,"col-xl-2","col-lg-3","col-sm-4","text-center","filterBTN","mb-2"],[1,"btn","px-sm-4","px-5"],[1,"fa-solid","fa-sliders"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[1,"col-md-12"],[3,"currentPage","totalPages","pageChange"],[1,"action"],[1,"btn","get","mx-2",3,"click"],[1,"fa-solid","fa-eye"],[1,"btn","edit","mx-2",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","delete","bg-danger","mx-2",3,"click"],[1,"fa-regular","fa-trash-can"],["colspan","6",1,"text-center"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA()(),e.TgZ(9,"div",5)(10,"div",4)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"a",10),e.NdJ("click",function(){return n.navigateToAddItem()}),e._UZ(16,"i",11),e._uU(17," \u0625\u0636\u0627\u0641\u0629 \u0639\u0646\u0635\u0631 \u0641\u064a \u0627\u0644\u0631\u0648\u0627\u062a\u0628 "),e.qZA()(),e.TgZ(18,"div",12),e._UZ(19,"input",13),e.qZA(),e.TgZ(20,"div",14)(21,"button",15),e._UZ(22,"i",16),e._uU(23," \u062a\u0635\u0646\u064a\u0641 "),e.qZA()()()(),e.TgZ(24,"div",17)(25,"div",18)(26,"table",19)(27,"thead")(28,"tr")(29,"th"),e._uU(30,"\u062a\u0631\u0642\u064a\u0645"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0623"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(37,"th"),e.qZA()(),e.TgZ(38,"tbody"),e.YNc(39,pr,20,11,"tr",20),e.YNc(40,_r,3,0,"tr",21),e.qZA()()()(),e.TgZ(41,"div",7)(42,"div",22)(43,"div",23)(44,"pagination",24),e.NdJ("pageChange",function(s){return n.onPageChange(s)}),e.qZA()()()()()()()()),2&a&&(e.xp6(39),e.Q6J("ngForOf",n.payrollItems),e.xp6(1),e.Q6J("ngIf",0===n.payrollItems.length&&!n.loading),e.xp6(4),e.Q6J("currentPage",n.currentPage)("totalPages",n.totalPages))},dependencies:[d.ez,d.sg,d.O5,u.Bz,u.rH,_.fQ,_.lO,x.Q,l.u5,I.L]})}return i})();function hr(i,o){1&i&&(e.TgZ(0,"h5"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0631\u0648\u0627\u062a\u0628"),e.qZA())}function gr(i,o){1&i&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0631\u0648\u0627\u062a\u0628"),e.qZA())}function vr(i,o){if(1&i&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.id," ")}}function xr(i,o){1&i&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function br(i,o){if(1&i&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.payrollItemForm.controls.medical_insurance_id.errors?null:t.payrollItemForm.controls.medical_insurance_id.errors.serverError[0]," ")}}function yr(i,o){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,xr,2,0,"div",19),e.YNc(2,br,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.medical_insurance_id.errors?null:t.payrollItemForm.controls.medical_insurance_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.medical_insurance_id.errors?null:t.payrollItemForm.controls.medical_insurance_id.errors.serverError)}}function Ar(i,o){if(1&i&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.first_name," ",t.last_name," ")}}function Ir(i,o){1&i&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Cr(i,o){if(1&i&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.payrollItemForm.controls.employee_id.errors?null:t.payrollItemForm.controls.employee_id.errors.serverError[0]," ")}}function Mr(i,o){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Ir,2,0,"div",19),e.YNc(2,Cr,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.employee_id.errors?null:t.payrollItemForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.employee_id.errors?null:t.payrollItemForm.controls.employee_id.errors.serverError)}}function wr(i,o){1&i&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Fr(i,o){if(1&i&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.payrollItemForm.controls.start_date.errors?null:t.payrollItemForm.controls.start_date.errors.serverError[0]," ")}}function Dr(i,o){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,wr,2,0,"div",19),e.YNc(2,Fr,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.start_date.errors?null:t.payrollItemForm.controls.start_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.start_date.errors?null:t.payrollItemForm.controls.start_date.errors.serverError)}}function Tr(i,o){1&i&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Er(i,o){if(1&i&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.payrollItemForm.controls.end_date.errors?null:t.payrollItemForm.controls.end_date.errors.serverError[0]," ")}}function Zr(i,o){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Tr,2,0,"div",19),e.YNc(2,Er,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.end_date.errors?null:t.payrollItemForm.controls.end_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.end_date.errors?null:t.payrollItemForm.controls.end_date.errors.serverError)}}function Rr(i,o){1&i&&(e.TgZ(0,"div",31),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function kr(i,o){if(1&i&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.payrollItemForm.controls.card_number.errors?null:t.payrollItemForm.controls.card_number.errors.serverError[0]," ")}}function Sr(i,o){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Rr,2,0,"div",19),e.YNc(2,kr,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.card_number.errors?null:t.payrollItemForm.controls.card_number.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.card_number.errors?null:t.payrollItemForm.controls.card_number.errors.serverError)}}function qr(i,o){1&i&&(e.ynx(0),e.TgZ(1,"div",32)(2,"button",33),e._UZ(3,"i",34),e._uU(4," \u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0627\u0644\u0631\u0648\u0627\u062a\u0628 "),e.qZA()(),e.BQk())}function Nr(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",32)(1,"button",35),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updatePayrollItem())}),e._uU(2," \u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0627\u0644\u0631\u0648\u0627\u062a\u0628 "),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.payrollItemForm.valid)}}const Pr=function(i){return[i]};let Re=(()=>{class i{constructor(t,a,n,r,s,c,m,h){this.localize=t,this.router=a,this.activatedRoute=n,this.medicalInsuranceService=r,this._MessagesService=s,this.employeesService=c,this.payrollItemsService=m,this.dashboardService=h,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.payrollItemId="",this.employees=[],this.payrollItems=[],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.payrollItemForm=new l.cw({medical_insurance_id:new l.NI("",l.kI.required),employee_id:new l.NI("",l.kI.required),start_date:new l.NI("",l.kI.required),end_date:new l.NI("",l.kI.required),card_number:new l.NI("",l.kI.required)})}ngOnInit(){this.getEmployees(),this.getPayrollItems(),this.activatedRoute.paramMap.subscribe(t=>{const a=t.get("id");a&&(this.payrollItemId=a,this.isEditMode=!0,this.payrollItemsService.getPayrollById(a).subscribe(n=>{n&&n.data&&this.setFormValues(n.data)}))})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:t=>{t&&t.data&&(this.employees=t.data)},error:t=>{console.error(t)}})}getPayrollItems(){this.payrollItemsService.getAllPayrolls().subscribe({next:t=>{t&&t.data&&(this.payrollItems=t.data,console.log(this.payrollItems))},error:t=>{console.error(t)}})}setFormValues(t){this.payrollItemForm.patchValue({medical_insurance_id:t.id,employee_id:t.employee.id,start_date:t.start_date,end_date:t.end_date,card_number:t.card_number})}updatePayrollItem(){if(this.payrollItemForm.valid){const t={...this.payrollItemForm.value,_method:"PATCH"};this.payrollItemsService.updatePayroll(this.payrollItemId,t).subscribe({next:a=>{this.navigateToPayrollItemsList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",3e3)},error:a=>{a.error&&a.error.errors?this.handleValidationErrors(a.error.errors):console.error("Failed to update payroll item:",a)}})}else this.payrollItemForm.markAllAsTouched()}onSubmit(){if(this.payrollItemForm.valid){const t={...this.payrollItemForm.value};this.payrollItemsService.createPayroll(t).subscribe({next:a=>{this.navigateToPayrollItemsList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:a=>{a.error&&a.error.errors?this.handleValidationErrors(a.error.errors):(this.errorMessage="Failed to add payroll item. Please try again.",console.error("Failed to add payroll item:",a))}})}else this.payrollItemForm.markAllAsTouched()}handleValidationErrors(t){for(const a in t)if(t.hasOwnProperty(a)){const n=this.payrollItemForm.get(a);n&&n.setErrors({serverError:t[a]})}}navigateToPayrollItemsList(){const t=this.localize.translateRoute("/dashboard/employees/payroll-items");this.router.navigate([t])}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(_.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(K),e.Y36(f.K),e.Y36(C.M),e.Y36(_e),e.Y36(D.K))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-create-payroll-item"]],standalone:!0,features:[e.jDz],decls:52,vars:17,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","payroll_item_id",1,"form-label"],["name","payroll_item_id","id","medical_insurance_id","formControlName","medical_insurance_id",1,"form-select","form-select-lg"],[3,"value",4,"ngFor","ngForOf"],["class","ms-error",4,"ngIf"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id",1,"form-select","form-select-lg"],["for","start_date",1,"form-label"],["formControlName","start_date","type","date","name","start_date","id","start_date",1,"form-control","form-control-lg"],["for","end_date",1,"form-label"],["formControlName","end_date","type","date","name","end_date","id","end_date",1,"form-control","form-control-lg"],["for","insurance_number",1,"form-label"],["formControlName","card_number","type","number","name","card_number","id","card_number",1,"form-control","form-control-lg"],[4,"ngIf","ngIfElse"],["editButton",""],[3,"value"],[1,"ms-error"],[1,"form-group","col-md-12","mb-3"],["type","submit",1,"btn","px-5","py-3"],[1,"fa-solid","fa-circle-plus","me-2"],["type","button",1,"btn","px-5","py-3",3,"disabled","click"]],template:function(a,n){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0631\u0648\u0627\u062a\u0628"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,hr,2,0,"h5",12),e.YNc(19,gr,2,0,"h5",12),e.TgZ(20,"form",13),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"\u0646\u0648\u0639 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a"),e.qZA(),e.TgZ(25,"select",17),e.YNc(26,vr,2,2,"option",18),e.qZA(),e.YNc(27,yr,3,2,"div",19),e.qZA(),e.TgZ(28,"div",15)(29,"label",20),e._uU(30,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(31,"select",21),e.YNc(32,Ar,2,3,"option",18),e.qZA(),e.YNc(33,Mr,3,2,"div",19),e.qZA(),e.TgZ(34,"div",15)(35,"label",22),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0621"),e.qZA(),e._UZ(37,"input",23),e.YNc(38,Dr,3,2,"div",19),e.qZA(),e.TgZ(39,"div",15)(40,"label",24),e._uU(41,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(42,"input",25),e.YNc(43,Zr,3,2,"div",19),e.qZA(),e.TgZ(44,"div",15)(45,"label",26),e._uU(46,"\u0631\u0642\u0645 \u0627\u0644\u062a\u0623\u0645\u064a\u0646"),e.qZA(),e._UZ(47,"input",27),e.YNc(48,Sr,3,2,"div",19),e.qZA(),e.YNc(49,qr,5,0,"ng-container",28),e.YNc(50,Nr,3,1,"ng-template",null,29,e.W1O),e.qZA()()()()()()()),2&a){const r=e.MAs(51);e.xp6(10),e.Q6J("routerLink",e.VKq(15,Pr,e.lcZ(11,13,"/dashboard/employees/payroll-items"))),e.xp6(8),e.Q6J("ngIf",!n.isEditMode),e.xp6(1),e.Q6J("ngIf",n.isEditMode),e.xp6(1),e.Q6J("formGroup",n.payrollItemForm),e.xp6(6),e.Q6J("ngForOf",n.payrollItems),e.xp6(1),e.Q6J("ngIf",n.payrollItemForm.controls.medical_insurance_id.invalid&&(n.payrollItemForm.controls.medical_insurance_id.dirty||n.payrollItemForm.controls.medical_insurance_id.touched)),e.xp6(5),e.Q6J("ngForOf",n.employees),e.xp6(1),e.Q6J("ngIf",n.payrollItemForm.controls.employee_id.invalid&&(n.payrollItemForm.controls.employee_id.dirty||n.payrollItemForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngIf",n.payrollItemForm.controls.start_date.invalid&&(n.payrollItemForm.controls.start_date.dirty||n.payrollItemForm.controls.start_date.touched)),e.xp6(5),e.Q6J("ngIf",n.payrollItemForm.controls.end_date.invalid&&(n.payrollItemForm.controls.end_date.dirty||n.payrollItemForm.controls.end_date.touched)),e.xp6(5),e.Q6J("ngIf",n.payrollItemForm.controls.card_number.invalid&&(n.payrollItemForm.controls.card_number.dirty||n.payrollItemForm.controls.card_number.touched)),e.xp6(1),e.Q6J("ngIf",!n.isEditMode)("ngIfElse",r)}},dependencies:[d.ez,d.sg,d.O5,I.L,u.rH,_.fQ,_.lO,l.UX,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.sg,l.u,q,O,Y,A.XK,P.ot,V,B]})}return i})();function Lr(i,o){1&i&&(e.TgZ(0,"h5"),e._uU(1,"\u0625\u0636\u0627\u0641\u0629 \u0637\u0644\u0628 \u0631\u0648\u0627\u062a\u0628"),e.qZA())}function Or(i,o){1&i&&(e.TgZ(0,"h5"),e._uU(1,"\u062a\u0639\u062f\u064a\u0644 \u0637\u0644\u0628 \u0631\u0648\u0627\u062a\u0628"),e.qZA())}function Ur(i,o){if(1&i&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.id," ")}}function Yr(i,o){1&i&&(e.TgZ(0,"div",29),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Vr(i,o){if(1&i&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.payrollItemForm.controls.medical_insurance_id.errors?null:t.payrollItemForm.controls.medical_insurance_id.errors.serverError[0]," ")}}function Br(i,o){if(1&i&&(e.TgZ(0,"div",29),e.YNc(1,Yr,2,0,"div",19),e.YNc(2,Vr,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.medical_insurance_id.errors?null:t.payrollItemForm.controls.medical_insurance_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.medical_insurance_id.errors?null:t.payrollItemForm.controls.medical_insurance_id.errors.serverError)}}function Qr(i,o){if(1&i&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.first_name," ",t.last_name," ")}}function jr(i,o){1&i&&(e.TgZ(0,"div",29),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function zr(i,o){if(1&i&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.payrollItemForm.controls.employee_id.errors?null:t.payrollItemForm.controls.employee_id.errors.serverError[0]," ")}}function Jr(i,o){if(1&i&&(e.TgZ(0,"div",29),e.YNc(1,jr,2,0,"div",19),e.YNc(2,zr,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.employee_id.errors?null:t.payrollItemForm.controls.employee_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.employee_id.errors?null:t.payrollItemForm.controls.employee_id.errors.serverError)}}function Hr(i,o){1&i&&(e.TgZ(0,"div",29),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function $r(i,o){if(1&i&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.payrollItemForm.controls.start_date.errors?null:t.payrollItemForm.controls.start_date.errors.serverError[0]," ")}}function Gr(i,o){if(1&i&&(e.TgZ(0,"div",29),e.YNc(1,Hr,2,0,"div",19),e.YNc(2,$r,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.start_date.errors?null:t.payrollItemForm.controls.start_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.start_date.errors?null:t.payrollItemForm.controls.start_date.errors.serverError)}}function Kr(i,o){1&i&&(e.TgZ(0,"div",29),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function Wr(i,o){if(1&i&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.payrollItemForm.controls.end_date.errors?null:t.payrollItemForm.controls.end_date.errors.serverError[0]," ")}}function Xr(i,o){if(1&i&&(e.TgZ(0,"div",29),e.YNc(1,Kr,2,0,"div",19),e.YNc(2,Wr,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.end_date.errors?null:t.payrollItemForm.controls.end_date.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.end_date.errors?null:t.payrollItemForm.controls.end_date.errors.serverError)}}function eo(i,o){1&i&&(e.TgZ(0,"div",29),e._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),e.qZA())}function to(i,o){if(1&i&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.payrollItemForm.controls.card_number.errors?null:t.payrollItemForm.controls.card_number.errors.serverError[0]," ")}}function io(i,o){if(1&i&&(e.TgZ(0,"div",29),e.YNc(1,eo,2,0,"div",19),e.YNc(2,to,2,1,"div",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.card_number.errors?null:t.payrollItemForm.controls.card_number.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.payrollItemForm.controls.card_number.errors?null:t.payrollItemForm.controls.card_number.errors.serverError)}}const ao=function(i){return[i]},no=[{path:"",component:yt,children:[{path:"",component:y,data:{breadcrumbs:[{label:"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646",url:"/dashboard/employees"}]}},{path:"add-employee",component:he,data:{breadcrumbs:[{label:" \u0625\u0636\u0627\u0641\u0629 \u0645\u0648\u0638\u0641",url:"/dashboard/employees/add-employee"}]}},{path:"add-employee/:id",component:he,data:{breadcrumbs:[{label:"\u062a\u0639\u062f\u064a\u0644 \u0645\u0648\u0638\u0641",url:"/dashboard/employees/add-employee"}]}},{path:"view-employee/:id",component:Rt,data:{breadcrumbs:[{label:" \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641",url:"/dashboard/employees/view-employee"}]}},{path:"leave-requests",component:Nt,data:{breadcrumbs:[{label:"\u0627\u0644\u0623\u0630\u0648\u0646\u0627\u062a",url:"/dashboard/employees/leave-requests"}]}},{path:"add-leave-req/:id",component:Te,data:{breadcrumbs:[{label:" \u0627\u0644\u0623\u0630\u0648\u0646\u0627\u062a",url:"/dashboard/employees/leave-requests"}]}},{path:"add-leave-req",component:Te,data:{breadcrumbs:[{label:" \u0627\u0644\u0623\u0630\u0648\u0646\u0627\u062a",url:"/dashboard/employees/leave-requests"}]}},{path:"show-leave-req/:id",component:Fa,data:{breadcrumbs:[{label:" \u0627\u0644\u0623\u0630\u0648\u0646\u0627\u062a",url:"/dashboard/employees/leave-requests"}]}},{path:"medical-list",component:Ra,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0635\u062d\u064a\u0629",url:"/dashboard/employees/medical-list"}]}},{path:"create-medical-record",component:Ee,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0635\u062d\u064a\u0629",url:"/dashboard/employees/create-medical-record"}]}},{path:"create-medical-record/:id",component:Ee,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0635\u062d\u064a\u0629",url:"/dashboard/employees/create-medical-record"}]}},{path:"view-medical-record/:id",component:bn,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0635\u062d\u064a\u0629",url:"/dashboard/employees/create-medical-record"}]}},{path:"social-insurances",component:Cn,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0625\u062c\u062a\u0645\u0627\u0639\u064a\u0629",url:"/dashboard/employees/social-insurances"}]}},{path:"add-insurances",component:Ze,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0625\u062c\u062a\u0645\u0627\u0639\u064a\u0629",url:"/dashboard/employees/social-insurances"}]}},{path:"add-insurances/:id",component:Ze,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0625\u062c\u062a\u0645\u0627\u0639\u064a\u0629",url:"/dashboard/employees/social-insurances"}]}},{path:"show-insurances/:id",component:ur,data:{breadcrumbs:[{label:" \u0627\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a \u0627\u0644\u0625\u062c\u062a\u0645\u0627\u0639\u064a\u0629",url:"/dashboard/employees/social-insurances"}]}},{path:"payroll-items",component:fr,data:{breadcrumbs:[{label:" \u0627\u0644\u0631\u0648\u0627\u062a\u0628",url:"/dashboard/employees/payroll-items"}]}},{path:"add-payroll-item",component:Re,data:{breadcrumbs:[{label:" \u0627\u0644\u0631\u0648\u0627\u062a\u0628",url:"/dashboard/employees/payroll-items"}]}},{path:"add-payroll-item/:id",component:Re,data:{breadcrumbs:[{label:" \u0627\u0644\u0631\u0648\u0627\u062a\u0628",url:"/dashboard/employees/payroll-items"}]}},{path:"show-payroll-item/:id",component:(()=>{class i{constructor(t,a,n,r,s,c,m,h){this.localize=t,this.router=a,this.activatedRoute=n,this.medicalInsuranceService=r,this._MessagesService=s,this.employeesService=c,this.payrollItemsService=m,this.dashboardService=h,this.countries=[],this.cities=[],this.departments=[],this.currencies=[],this.isEditMode=!1,this.payrollItemId="",this.employees=[],this.payrollItems=[],this.statusOptions=[{id:"acceptable",name:"acceptable"},{id:"rejected",name:"rejected"}],this.errorMessage="",this.payrollItemForm=new l.cw({medical_insurance_id:new l.NI("",l.kI.required),employee_id:new l.NI("",l.kI.required),start_date:new l.NI("",l.kI.required),end_date:new l.NI("",l.kI.required),card_number:new l.NI("",l.kI.required)})}ngOnInit(){this.getEmployees(),this.getPayrollItems(),this.activatedRoute.paramMap.subscribe(t=>{const a=t.get("id");a&&(this.payrollItemId=a,this.isEditMode=!0,this.payrollItemsService.getPayrollById(a).subscribe(n=>{n&&n.data&&this.setFormValues(n.data)}))})}getEmployees(){this.employeesService.GetEmployeesList().subscribe({next:t=>{t&&t.data&&(this.employees=t.data)},error:t=>{console.error(t)}})}getPayrollItems(){this.payrollItemsService.getAllPayrolls().subscribe({next:t=>{t&&t.data&&(this.payrollItems=t.data,console.log(this.payrollItems))},error:t=>{console.error(t)}})}setFormValues(t){this.payrollItemForm.patchValue({medical_insurance_id:t.id,employee_id:t.employee.id,start_date:t.start_date,end_date:t.end_date,card_number:t.card_number})}navigateToPayrollItemsList(){const t=this.localize.translateRoute("/dashboard/employees/payroll-items");this.router.navigate([t])}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(_.An),e.Y36(u.F0),e.Y36(u.gz),e.Y36(K),e.Y36(f.K),e.Y36(C.M),e.Y36(_e),e.Y36(D.K))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-show-payroll"]],standalone:!0,features:[e.jDz],decls:49,vars:15,consts:[[1,"container-fluid","py-5","px-1"],[1,"row","title-top","mb-3"],[1,"col-12","mb-3"],[1,"fw-bold","fs-2"],[1,"col-sm-6"],[1,"col-sm-6","text-end","back"],[1,"text-decoration-none",3,"routerLink"],[1,"fa-solid","fa-chevron-left","ms-2"],[1,"row","add-row"],[1,"col-12"],[1,"card","rounded-4"],[1,"card-body"],[4,"ngIf"],[3,"formGroup"],[1,"row"],[1,"form-group","col-md-6","mb-3"],["for","payroll_item_id",1,"form-label"],["name","payroll_item_id","id","medical_insurance_id","formControlName","medical_insurance_id",1,"form-select","form-select-lg","readonly-select"],[3,"value",4,"ngFor","ngForOf"],["class","ms-error",4,"ngIf"],["for","employee_id",1,"form-label"],["name","employee_id","id","employee_id","formControlName","employee_id",1,"form-select","form-select-lg","readonly-select"],["for","start_date",1,"form-label"],["formControlName","start_date","type","date","name","start_date","id","start_date","readonly","",1,"form-control","form-control-lg"],["for","end_date",1,"form-label"],["formControlName","end_date","type","date","name","end_date","id","end_date","readonly","",1,"form-control","form-control-lg"],["for","insurance_number",1,"form-label"],["formControlName","card_number","type","number","name","card_number","id","card_number","readonly","",1,"form-control","form-control-lg"],[3,"value"],[1,"ms-error"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._UZ(4,"app-breadcrumb"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0641\u064a \u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0631\u0648\u0627\u062a\u0628"),e.qZA()(),e.TgZ(7,"div",4),e._UZ(8,"app-breadcrumb"),e.qZA(),e.TgZ(9,"div",5)(10,"a",6),e.ALo(11,"localize"),e._uU(12,"\u0631\u062c\u0648\u0639 "),e._UZ(13,"i",7),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),e.YNc(18,Lr,2,0,"h5",12),e.YNc(19,Or,2,0,"h5",12),e.TgZ(20,"form",13)(21,"div",14)(22,"div",15)(23,"label",16),e._uU(24,"\u0646\u0648\u0639 \u0627\u0644\u062a\u0623\u0645\u064a\u0646 \u0627\u0644\u0635\u062d\u064a"),e.qZA(),e.TgZ(25,"select",17),e.YNc(26,Ur,2,2,"option",18),e.qZA(),e.YNc(27,Br,3,2,"div",19),e.qZA(),e.TgZ(28,"div",15)(29,"label",20),e._uU(30,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.qZA(),e.TgZ(31,"select",21),e.YNc(32,Qr,2,3,"option",18),e.qZA(),e.YNc(33,Jr,3,2,"div",19),e.qZA(),e.TgZ(34,"div",15)(35,"label",22),e._uU(36,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0621"),e.qZA(),e._UZ(37,"input",23),e.YNc(38,Gr,3,2,"div",19),e.qZA(),e.TgZ(39,"div",15)(40,"label",24),e._uU(41,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"),e.qZA(),e._UZ(42,"input",25),e.YNc(43,Xr,3,2,"div",19),e.qZA(),e.TgZ(44,"div",15)(45,"label",26),e._uU(46,"\u0631\u0642\u0645 \u0627\u0644\u062a\u0623\u0645\u064a\u0646"),e.qZA(),e._UZ(47,"input",27),e.YNc(48,io,3,2,"div",19),e.qZA()()()()()()()()),2&a&&(e.xp6(10),e.Q6J("routerLink",e.VKq(13,ao,e.lcZ(11,11,"/dashboard/employees/payroll-items"))),e.xp6(8),e.Q6J("ngIf",!n.isEditMode),e.xp6(1),e.Q6J("ngIf",n.isEditMode),e.xp6(1),e.Q6J("formGroup",n.payrollItemForm),e.xp6(6),e.Q6J("ngForOf",n.payrollItems),e.xp6(1),e.Q6J("ngIf",n.payrollItemForm.controls.medical_insurance_id.invalid&&(n.payrollItemForm.controls.medical_insurance_id.dirty||n.payrollItemForm.controls.medical_insurance_id.touched)),e.xp6(5),e.Q6J("ngForOf",n.employees),e.xp6(1),e.Q6J("ngIf",n.payrollItemForm.controls.employee_id.invalid&&(n.payrollItemForm.controls.employee_id.dirty||n.payrollItemForm.controls.employee_id.touched)),e.xp6(5),e.Q6J("ngIf",n.payrollItemForm.controls.start_date.invalid&&(n.payrollItemForm.controls.start_date.dirty||n.payrollItemForm.controls.start_date.touched)),e.xp6(5),e.Q6J("ngIf",n.payrollItemForm.controls.end_date.invalid&&(n.payrollItemForm.controls.end_date.dirty||n.payrollItemForm.controls.end_date.touched)),e.xp6(5),e.Q6J("ngIf",n.payrollItemForm.controls.card_number.invalid&&(n.payrollItemForm.controls.card_number.dirty||n.payrollItemForm.controls.card_number.touched)))},dependencies:[d.ez,d.sg,d.O5,I.L,u.rH,_.fQ,_.lO,l.UX,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.sg,l.u,q,O,Y,A.XK,P.ot,V,B],styles:[".readonly-select[_ngcontent-%COMP%]{background-color:#fff;pointer-events:none;opacity:1;appearance:none}"]})}return i})(),data:{breadcrumbs:[{label:" \u0627\u0644\u0631\u0648\u0627\u062a\u0628",url:"/dashboard/employees/payroll-items"}]}}]}]},8034:(re,S,p)=>{p.d(S,{$:()=>E});var d=p(6814),u=p(7700),_=p(2296),x=p(5879),l=p(4286);let E=(()=>{class I{constructor(C,F,v){this.dialogRef=C,this.data=F,this._MessagesService=v}onConfirmClick(){this.dialogRef.close(!0)}onCancelClick(){this.dialogRef.close(!1)}static#e=this.\u0275fac=function(F){return new(F||I)(x.Y36(u.so),x.Y36(u.WI),x.Y36(l.K))};static#t=this.\u0275cmp=x.Xpm({type:I,selectors:[["app-confirm-dialog"]],standalone:!0,features:[x.jDz],decls:10,vars:2,consts:[[1,"text-center"],["mat-dialog-title","",1,"text-center"],[1,"m-auto"],["mat-button","",3,"click"],["mat-button","","olor","primary",2,"color","red",3,"click"]],template:function(F,v){1&F&&(x.TgZ(0,"div",0)(1,"h2",1),x._uU(2),x.qZA(),x.TgZ(3,"mat-dialog-content"),x._uU(4),x.qZA(),x.TgZ(5,"mat-dialog-actions",2)(6,"button",3),x.NdJ("click",function(){return v.onCancelClick()}),x._uU(7,"\u0627\u0644\u063a\u0627\u0621"),x.qZA(),x.TgZ(8,"button",4),x.NdJ("click",function(){return v.onConfirmClick()}),x._uU(9," \u062a\u0627\u0643\u064a\u062f "),x.qZA()()()),2&F&&(x.xp6(2),x.Oqu(v.data.title),x.xp6(2),x.Oqu(v.data.message))},dependencies:[d.ez,u.Is,u.uh,u.xY,u.H8,_.ot,_.lW],styles:["mat-dialog-content[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}"]})}return I})()},4414:(re,S,p)=>{p.d(S,{L:()=>F});var d=p(6814),u=p(846),_=p(8733),x=p(2181),l=p(5879);function E(v,T){1&v&&(l.TgZ(0,"li",6),l._uU(1,"/"),l.qZA())}function I(v,T){if(1&v&&(l.ynx(0),l.TgZ(1,"li",4)(2,"a",5),l.ALo(3,"localize"),l._uU(4),l.qZA()(),l.YNc(5,E,2,0,"li",3),l.BQk()),2&v){const b=T.$implicit,y=T.index,f=l.oxw().$implicit;l.xp6(2),l.Q6J("routerLink",l.lcZ(3,3,b.url)),l.xp6(2),l.Oqu(b.label),l.xp6(1),l.Q6J("ngIf",y<f.segments.length-1)}}function e(v,T){1&v&&(l.TgZ(0,"li",6),l._uU(1,"/"),l.qZA())}function C(v,T){if(1&v&&(l.ynx(0),l.YNc(1,I,6,5,"ng-container",2),l.YNc(2,e,2,0,"li",3),l.BQk()),2&v){const b=T.$implicit,y=T.index,f=l.oxw();l.xp6(1),l.Q6J("ngForOf",b.segments),l.xp6(1),l.Q6J("ngIf",y<f.breadcrumbs.length-1)}}let F=(()=>{class v{constructor(b,y){this.router=b,this.activatedRoute=y,this.breadcrumbs=[]}ngOnInit(){this.routerSubscription=this.router.events.pipe((0,x.h)(b=>b instanceof u.m2)).subscribe(()=>{this.breadcrumbs=this.createBreadcrumbs(this.activatedRoute.root)}),this.breadcrumbs=this.createBreadcrumbs(this.activatedRoute.root)}createBreadcrumbs(b,y="",f=[]){let D=[],Z=b;for(;Z.firstChild;){Z=Z.firstChild;const Q=Z.snapshot.url.map(j=>j.path).join("/");""!==Q&&(y+=`/${Q}`);const N=Z.snapshot.data.breadcrumbs;if(N&&N!=D&&Array.isArray(N)&&""!==Q){D=N;const j=N.map(W=>({label:W.label,url:W.url||y}));f.push({segments:j})}}return f}ngOnDestroy(){}static#e=this.\u0275fac=function(y){return new(y||v)(l.Y36(u.F0),l.Y36(u.gz))};static#t=this.\u0275cmp=l.Xpm({type:v,selectors:[["app-breadcrumb"]],standalone:!0,features:[l.jDz],decls:3,vars:1,consts:[["aria-label","breadcrumb"],[1,"breadcrumb","mb-0"],[4,"ngFor","ngForOf"],["class","separator",4,"ngIf"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"separator"]],template:function(y,f){1&y&&(l.TgZ(0,"nav",0)(1,"ol",1),l.YNc(2,C,3,2,"ng-container",2),l.qZA()()),2&y&&(l.xp6(2),l.Q6J("ngForOf",f.breadcrumbs))},dependencies:[d.ez,d.sg,d.O5,u.Bz,u.rH,_.fQ,_.lO],styles:['.ec-breadcrumb[_ngcontent-%COMP%]{padding:15px 0;margin-bottom:50px;background-color:#f7f7f7;border-top:1px solid #eeeeee;border-bottom:1px solid #eeeeee}.ec-breadcrumb[_ngcontent-%COMP%]   .ec-breadcrumb-title[_ngcontent-%COMP%]{text-decoration:none;color:#444;display:block;font-size:15px;font-family:Montserrat;line-height:22px;font-weight:700;margin:0 auto;text-transform:capitalize}.ec-breadcrumb-list[_ngcontent-%COMP%]{text-align:right}.ec-breadcrumb-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:300;letter-spacing:.02rem;line-height:1.2;text-transform:capitalize}.ec-breadcrumb-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;color:#444}.ec-breadcrumb-list[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:#3474d4}.ec-breadcrumb-list[_ngcontent-%COMP%]   .ec-breadcrumb-item.active[_ngcontent-%COMP%]:before{color:#3474d4}.ec-breadcrumb-item[_ngcontent-%COMP%]{display:flex}.ec-breadcrumb-item[_ngcontent-%COMP%] + .ec-breadcrumb-item[_ngcontent-%COMP%]{padding-left:7px}.ec-breadcrumb-item[_ngcontent-%COMP%] + .ec-breadcrumb-item[_ngcontent-%COMP%]:before{display:inline-block;padding-right:7px;color:#444;content:"\\f101";font-family:EcIcons;font-size:15px}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.separator[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-one)}']})}return v})()},1818:(re,S,p)=>{p.d(S,{Q:()=>F});var d=p(5879),u=p(6223),_=p(6814);function x(v,T){if(1&v){const b=d.EpF();d.TgZ(0,"li",2)(1,"a",8),d.NdJ("click",function(){d.CHM(b);const f=d.oxw();return d.KtG(f.navigateTo(1))}),d._uU(2,"1"),d.qZA()()}}function l(v,T){1&v&&(d.TgZ(0,"li",2)(1,"a",9),d._uU(2,"..."),d.qZA()())}function E(v,T){if(1&v){const b=d.EpF();d.TgZ(0,"li",2)(1,"a",8),d.NdJ("click",function(){const D=d.CHM(b).$implicit,Z=d.oxw();return d.KtG(Z.navigateTo(D))}),d._uU(2),d.qZA()()}if(2&v){const b=T.$implicit,y=d.oxw();d.ekj("active",y.currentPage===b),d.xp6(2),d.Oqu(b)}}function I(v,T){1&v&&(d.TgZ(0,"li",2)(1,"a",9),d._uU(2,"..."),d.qZA()())}function e(v,T){if(1&v){const b=d.EpF();d.TgZ(0,"li",2)(1,"a",8),d.NdJ("click",function(){d.CHM(b);const f=d.oxw();return d.KtG(f.navigateTo(f.totalPages))}),d._uU(2),d.qZA()()}if(2&v){const b=d.oxw();d.xp6(2),d.Oqu(b.totalPages)}}const C={provide:u.JU,useExisting:(0,d.Gpc)(()=>F),multi:!0};let F=(()=>{class v{constructor(){this.pageChange=new d.vpe}navigateTo(b){this.pageChange.emit(b),this.scrollToTop()}ngOnInit(){}scrollToTop(){window.scroll({top:0,left:0,behavior:"smooth"})}calculatePages(){const b=[];if(this.totalPages<=5)for(let f=1;f<=this.totalPages;f++)b.push(f);else{let f,D;this.currentPage<=Math.floor(2.5)?(f=1,D=5):this.currentPage+Math.floor(2.5)>=this.totalPages?(f=this.totalPages-5+1,D=this.totalPages):(f=this.currentPage-Math.floor(2.5),D=this.currentPage+Math.floor(2.5));for(let Z=f;Z<=D;Z++)b.push(Z)}return b}static#e=this.\u0275fac=function(y){return new(y||v)};static#t=this.\u0275cmp=d.Xpm({type:v,selectors:[["pagination"]],inputs:{currentPage:"currentPage",totalPages:"totalPages"},outputs:{pageChange:"pageChange"},standalone:!0,features:[d._Bn([C]),d.jDz],decls:15,vars:9,consts:[["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item","mx-2"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item mx-2",4,"ngIf"],["class","page-item mx-2",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],[1,"page-link",3,"click"],[1,"page-link"]],template:function(y,f){1&y&&(d.TgZ(0,"nav",0)(1,"ul",1)(2,"li",2)(3,"a",3),d.NdJ("click",function(){return f.navigateTo(f.currentPage-1)}),d.TgZ(4,"span",4),d._uU(5,"\xab"),d.qZA()()(),d.YNc(6,x,3,0,"li",5),d.YNc(7,l,3,0,"li",5),d.YNc(8,E,3,3,"li",6),d.YNc(9,I,3,0,"li",5),d.YNc(10,e,3,1,"li",5),d.TgZ(11,"li",2)(12,"a",7),d.NdJ("click",function(){return f.navigateTo(f.currentPage+1)}),d.TgZ(13,"span",4),d._uU(14,"\xbb"),d.qZA()()()()()),2&y&&(d.xp6(2),d.ekj("disabled",1===f.currentPage),d.xp6(4),d.Q6J("ngIf",f.currentPage>3),d.xp6(1),d.Q6J("ngIf",f.currentPage>4),d.xp6(1),d.Q6J("ngForOf",f.calculatePages()),d.xp6(1),d.Q6J("ngIf",f.currentPage<f.totalPages-3),d.xp6(1),d.Q6J("ngIf",f.currentPage<f.totalPages-2),d.xp6(1),d.ekj("disabled",f.currentPage===f.totalPages))},dependencies:[_.ez,_.sg,_.O5],styles:[".pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{cursor:pointer}"]})}return v})()}}]);